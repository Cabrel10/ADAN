<<<<<<< HEAD
# ADAN - Agent de D√©cision Algorithmique Neuronal

## üöÄ Vue d'Ensemble

ADAN est une plateforme avanc√©e de trading algorithmique bas√©e sur l'apprentissage par renforcement (RL). Le syst√®me utilise un agent PPO avec extracteur CNN pour apprendre des strat√©gies de trading rentables sur des donn√©es multi-assets avec indicateurs techniques sp√©cifiques par timeframe.

## ‚ú® Fonctionnalit√©s Principales

### üéØ **Syst√®me Multi-Assets et Multi-Lots**
- **Lot 1 (DOGE & Co)** : 5 cryptomonnaies (ADAUSDT, DOGEUSDT, LTCUSDT, SOLUSDT, XRPUSDT) - Timeframe 1h, ~18 features
- **Lot 2 (BTC & Co)** : 5 cryptomonnaies (ADAUSDT, BNBUSDT, BTCUSDT, ETHUSDT, XRPUSDT) - Timeframe 1m, 47 features avanc√©es
- Gestion intelligente du portefeuille avec allocation dynamique
- Syst√®me de paliers adaptatif selon le capital disponible

### üìä **Indicateurs Techniques Multi-Niveaux**
- **Lot 1 (Indicateurs Standard)** : OHLCV, RSI, EMA, MACD, Bollinger Bands, ATR (~18 features)
- **Lot 2 (Indicateurs Avanc√©s)** : OHLCV + SMA, EMA, RSI, MACD, Bollinger, ATR, Stochastic, ADX, CCI, Momentum, ROC, Williams %R, TRIX, Ultimate Oscillator, DPO, OBV, VWMA, CMF, MFI, Parabolic SAR, Ichimoku, KAMA, VWAP, Stoch RSI, CMO, PPO, Fisher Transform, HMM Regime Detection (47 features)
- **Timeframes Flexibles** : 1m (scalping), 1h (day trading), 1d (swing trading)

### üß† **Architecture IA Sophistiqu√©e**
- Agent PPO avec MultiInputPolicy
- CNN Feature Extractor pour l'analyse temporelle
- Support CPU et GPU avec configurations optimis√©es
- **Entra√Ænement parall√®le** : VecEnv avec n_envs configurable (1-8 environnements)
- **Traitement par chunks** pour gros volumes de donn√©es (√©vite les erreurs de m√©moire)

### üîß **Pipeline de Donn√©es Robuste**
- Collecte automatis√©e via CCXT (Binance)
- Traitement et normalisation des indicateurs
- Fusion multi-assets avec validation compl√®te
- Support de plusieurs timeframes simultan√©s

## üìÅ Structure du Projet

```
ADAN/
‚îú‚îÄ‚îÄ config/                 # Configurations YAML
‚îÇ   ‚îú‚îÄ‚îÄ main_config.yaml    # Configuration principale
‚îÇ   ‚îú‚îÄ‚îÄ data_config_*.yaml  # Donn√©es (CPU/GPU + Lots)
‚îÇ   ‚îú‚îÄ‚îÄ agent_config_*.yaml # Agent RL (CPU/GPU + n_envs)
‚îÇ   ‚îî‚îÄ‚îÄ environment_config.yaml # Environnement trading
‚îú‚îÄ‚îÄ data/                   # Donn√©es de march√©
‚îÇ   ‚îú‚îÄ‚îÄ raw/               # Donn√©es brutes OHLCV (Lot 1)
‚îÇ   ‚îú‚îÄ‚îÄ new/               # Donn√©es riches pr√©-calcul√©es (Lot 2)
‚îÇ   ‚îú‚îÄ‚îÄ processed/         # Donn√©es + indicateurs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lot1/          # Donn√©es trait√©es Lot 1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lot2/          # Donn√©es trait√©es Lot 2
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ merged/        # Donn√©es fusionn√©es par lot
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ lot1/      # Fichiers merged Lot 1
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ lot2/      # Fichiers merged Lot 2
‚îÇ   ‚îî‚îÄ‚îÄ scalers_encoders/  # Normalisation par lot
‚îú‚îÄ‚îÄ src/adan_trading_bot/   # Code source principal
‚îÇ   ‚îú‚îÄ‚îÄ data_processing/   # Pipeline de donn√©es
‚îÇ   ‚îú‚îÄ‚îÄ environment/       # Environnement Gymnasium
‚îÇ   ‚îú‚îÄ‚îÄ agents/           # Agents RL et CNN
‚îÇ   ‚îî‚îÄ‚îÄ common/           # Utilitaires
‚îú‚îÄ‚îÄ scripts/              # Scripts d'ex√©cution
‚îú‚îÄ‚îÄ models/               # Mod√®les entra√Æn√©s
‚îú‚îÄ‚îÄ reports/              # Analyses et TensorBoard
‚îî‚îÄ‚îÄ execution.md          # Guide complet d'ex√©cution
```

## üöÄ D√©marrage Rapide

### üìã Pr√©requis
- Python 3.11
- CUDA 11.8+ (pour GPU)
- 8GB+ RAM (CPU) / 32GB+ RAM (GPU)

### üõ†Ô∏è Installation
```bash
# Cloner et configurer
git clone <ADAN_REPOSITORY_URL>
cd ADAN
conda create -n trading_env python=3.11 -y
conda activate trading_env
pip install -r requirements.txt

# Pour GPU uniquement
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### ‚ö° Ex√©cution Multi-Lots

#### Lot 1 (DOGE & Co - 1h, 18 features)
```bash
conda activate trading_env
cd ADAN

# Pipeline complet Lot 1
python scripts/process_data.py --exec_profile cpu_lot1
python scripts/merge_processed_data.py --exec_profile cpu_lot1
python scripts/train_rl_agent.py --exec_profile cpu_lot1 --device cpu --initial_capital 15 --total_timesteps 200000
```

#### Lot 2 (BTC & Co - 1m, 47 features)
```bash
# Pipeline complet Lot 2
python scripts/process_data.py --exec_profile cpu_lot2
python scripts/merge_processed_data.py --exec_profile cpu_lot2
python scripts/train_rl_agent.py --exec_profile cpu_lot2 --device cpu --initial_capital 15 --total_timesteps 200000
```

### üöÄ Ex√©cution GPU (Production)
```bash
# Lot 1 - Configuration optimis√©e : 8 workers parall√®les
python scripts/train_rl_agent.py --exec_profile gpu_lot1 --device cuda --initial_capital 15 --total_timesteps 2000000

# Lot 2 - Donn√©es riches 1m avec parall√©lisation
python scripts/train_rl_agent.py --exec_profile gpu_lot2 --device cuda --initial_capital 15 --total_timesteps 2000000
```

## üìä Monitoring et Analyse

### TensorBoard
```bash
tensorboard --logdir reports/tensorboard_logs --host 0.0.0.0 --port 6006
```
**M√©triques cl√©s :** rollout/ep_rew_mean, train/policy_loss, train/value_loss

### GPU Monitoring
```bash
watch -n 1 nvidia-smi
```

## ‚öôÔ∏è Configuration Avanc√©e

### Profils d'Ex√©cution Multi-Lots

#### CPU (Test/D√©veloppement)
| Param√®tre | Lot 1 (cpu_lot1) | Lot 2 (cpu_lot2) |
|-----------|-------------------|-------------------|
| **Timesteps** | 200,000 | 200,000 |
| **Workers (n_envs)** | 1 | 1 |
| **Batch Size** | 64 | 64 |
| **Features** | ~18 (1h) | 47 (1m) |
| **Dur√©e** | 2-4h | 3-5h |

#### GPU (Production)
| Param√®tre | Lot 1 (gpu_lot1) | Lot 2 (gpu_lot2) |
|-----------|-------------------|-------------------|
| **Timesteps** | 2,000,000 | 2,000,000 |
| **Workers (n_envs)** | 8 | 8 |
| **Batch Size** | 512 | 512 |
| **Features** | ~18 (1h) | 47 (1m) |
| **Dur√©e** | 8-12h | 10-15h |

### Personnalisation

#### Indicateurs Techniques
Modifiez `config/data_config_*.yaml` section `indicators_by_timeframe` pour ajouter/supprimer des indicateurs.

#### Architecture Agent
Ajustez `config/agent_config_*.yaml` pour modifier :
- Dimensions du CNN (`features_dim`, `conv_layers`)
- Architecture MLP (`net_arch`)
- Hyperparam√®tres PPO (`learning_rate`, `batch_size`)

#### Environnement Trading
Configurez `config/environment_config.yaml` pour :
- Paliers de capital et allocation
- P√©nalit√©s et r√©compenses
- R√®gles de trading

## üîç Validation et Tests

### Validation du Pipeline Multi-Lots
```bash
# Test court Lot 1 (DOGE & Co)
python scripts/train_rl_agent.py --exec_profile cpu_lot1 --device cpu --initial_capital 15 --total_timesteps 100

# Test court Lot 2 (BTC & Co)  
python scripts/train_rl_agent.py --exec_profile cpu_lot2 --device cpu --initial_capital 15 --total_timesteps 100

# Test environnement
python scripts/test_environment_with_merged_data.py --exec_profile cpu_lot1 --initial_capital 15
python scripts/test_environment_with_merged_data.py --exec_profile cpu_lot2 --initial_capital 15
```

### V√©rifications Critiques Multi-Lots
```bash
# V√©rifier Lot 1 (doit √™tre ~85 colonnes : 5 assets √ó ~17 features)
python -c "import pandas as pd; df = pd.read_parquet('data/processed/merged/lot1/1h_train_merged.parquet'); print(f'Lot 1 Shape: {df.shape}')"

# V√©rifier Lot 2 (doit √™tre ~235 colonnes : 5 assets √ó 47 features)  
python -c "import pandas as pd; df = pd.read_parquet('data/processed/merged/lot2/1m_train_merged.parquet'); print(f'Lot 2 Shape: {df.shape}')"

# V√©rifier les features par lot
python -c "
import sys; sys.path.append('src')
from adan_trading_bot.common.utils import load_config
lot1_config = load_config('config/data_config_cpu_lot1.yaml')
lot2_config = load_config('config/data_config_cpu_lot2.yaml')
print(f'Lot 1 Features: {len(lot1_config[\"base_market_features\"])} par asset')
print(f'Lot 2 Features: {len(lot2_config[\"base_market_features\"])} par asset')
"
```

## üö® Troubleshooting

### Probl√®mes Courants

#### "FEATURE NON TROUV√âE"
- V√©rifier `base_market_features` dans `config/data_config_*_lot*.yaml` 
- V√©rifier que vous utilisez le bon profil (lot1 vs lot2)
- R√©g√©n√©rer les donn√©es : `process_data.py --exec_profile [profil]` puis `merge_processed_data.py --exec_profile [profil]`

#### Erreur "Colonnes manquantes"
- Assurer que le lot choisi correspond aux donn√©es disponibles
- Lot 1 : Utilise `data/backup/` ou donn√©es collect√©es via `fetch_data_ccxt.py`
- Lot 2 : Utilise `data/new/` avec donn√©es pr√©-calcul√©es

#### Erreur GPU/CUDA
```bash
python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}')"
```

#### Affichage Rich Corrompu
- **Solution :** Toujours utiliser `TERM=dumb PYTHONIOENCODING=utf-8 PYTHONUNBUFFERED=1`

## üìà Performances et R√©sultats

### M√©triques de Performance
- **PnL Total** : Evolution du capital
- **Sharpe Ratio** : Rendement ajust√© au risque
- **Max Drawdown** : Perte maximale
- **Win Rate** : Pourcentage de trades gagnants

### Fichiers G√©n√©r√©s
- `models/final_model.zip` : Mod√®le final entra√Æn√©
- `models/best_model/` : Meilleur mod√®le selon validation
- `models/checkpoints/` : Sauvegardes p√©riodiques
- `reports/tensorboard_logs/` : M√©triques d'entra√Ænement

## üìö Documentation Compl√®te

- **[Guide d'Ex√©cution](execution.md)** : Instructions d√©taill√©es √©tape par √©tape
- **[Configuration Multi-Lots](config/)** : R√©f√©rence des param√®tres YAML par lot
- **[Documentation Technique](docs/)** : Architecture et d√©tails d'impl√©mentation

## üéõÔ∏è Configurations Disponibles

### Profils de Donn√©es
- `cpu_lot1` / `gpu_lot1` : DOGE & Co, 1h, 18 features standard
- `cpu_lot2` / `gpu_lot2` : BTC & Co, 1m, 47 features avanc√©es

### Profils d'Agent  
- `cpu` : 1 environnement, configurations l√©g√®res
- `gpu` : 8 environnements parall√®les, configurations optimis√©es

## ü§ñ Fonctionnalit√©s Avanc√©es (Roadmap)

### En D√©veloppement
- [ ] Script de backtesting avanc√© (`scripts/evaluate_agent.py`)
- [ ] Notifications Telegram
- [ ] Live trading avec APIs exchange
- [ ] Optimisation automatique des hyperparam√®tres (Optuna)
- [ ] Boucle √©volutive Darwinienne

### Futurs Indicateurs
- [ ] Ichimoku Cloud
- [ ] Points Pivots 
- [ ] Fibonacci Retracements
- [ ] Volume Profile

## üõ°Ô∏è S√©curit√© et Bonnes Pratiques

- **Gestion des API Keys** : Variables d'environnement uniquement
- **Validation des Donn√©es** : V√©rifications automatiques √† chaque √©tape
- **Sauvegarde Automatique** : Mod√®les et checkpoints r√©guliers
- **Logging Complet** : Tra√ßabilit√© de toutes les op√©rations

## ü§ù Contribution

1. Fork le projet
2. Cr√©er une branche feature (`git checkout -b feature/AmazingFeature`)
3. Commit les changements (`git commit -m 'Add AmazingFeature'`)
4. Push sur la branche (`git push origin feature/AmazingFeature`)
5. Ouvrir une Pull Request

## üìÑ Licence

Ce projet est sous licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.

## üë®‚Äçüíª Contact

- **Auteur :** Cabrel
- **GitHub :** [Cabrel10](https://github.com/Cabrel10)
- **Projet :** [ADAN Repository](https://github.com/Cabrel10/ADAN)

---

**üéØ ADAN - Transformez vos strat√©gies de trading avec l'IA !**
=======
# ADAN
eva01
>>>>>>> 296a1e7e7811e4726ac5e90c67f96c4d621521a6
