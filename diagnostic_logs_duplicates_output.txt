🚀 ADAN Training Bot - Configuration chargée
⏱️  Timeout configuré: None secondes
Using cpu device
Logging to bot/config/logs/sb3
───────────── 🚀 Début de l'Entraînement ADAN avec Flux Dynamiques ─────────────
╭─────────────────────── Configuration Flux Monétaires ────────────────────────╮
│ 💰 Capital Initial: $20.50                                                   │
│ 🎯 Gestion Dynamique des Flux Activée                                        │
│ 📊 Monitoring en Temps Réel                                                  │
╰──────────────────────────────────────────────────────────────────────────────╯
2025-09-22 10:30:35,084 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Paramètres de risque initialisés - Taille position: 10.0% (5.0%-25.0%), Risque/trade: 1.00%, Drawdown max: 25.0%, Trades conc.: 5
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35,086 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35,087 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35,087 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35,087 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35,087 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,088 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,088 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 5m: 20 périodes
2025-09-22 10:30:35,088 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 1h: 20 périodes
2025-09-22 10:30:35,088 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 4h: 20 périodes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,088 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,236 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,237 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 5m: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,237 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,237 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 1h: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,237 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,237 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 4h: fenêtre=20, features=15
2025-09-22 10:30:35,237 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Using fixed observation shape: (3, 20, 15)
2025-09-22 10:30:35,237 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Portfolio state dimension: 17
2025-09-22 10:30:35,238 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation space configured: Dict('observation': Box(-inf, inf, (3, 20, 15), float32), 'portfolio_state': Box(-inf, inf, (17,), float32))
2025-09-22 10:30:35,239 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DynamicBehaviorEngine initialisé avec succès
2025-09-22 10:30:35,239 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DBE connecté à l'environnement pour suivi de fréquence
2025-09-22 10:30:35,239 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Initialized max_steps to 500000 and max_chunks_per_episode to 10
2025-09-22 10:30:35,239 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Chunk configuration - Total chunks: 10, Max chunks per episode: 10
2025-09-22 10:30:35 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35,239 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,240 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,293 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Paramètres de risque initialisés - Taille position: 10.0% (5.0%-25.0%), Risque/trade: 1.00%, Drawdown max: 25.0%, Trades conc.: 5
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35,296 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35,296 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35,296 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35,297 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35,297 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,297 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,297 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 5m: 20 périodes
2025-09-22 10:30:35,297 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 1h: 20 périodes
2025-09-22 10:30:35,297 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 4h: 20 périodes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35,297 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,297 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,298 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,298 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,298 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,298 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,298 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35,448 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,449 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 5m: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,449 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 1h: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,449 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,449 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 4h: fenêtre=20, features=15
2025-09-22 10:30:35,450 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Using fixed observation shape: (3, 20, 15)
2025-09-22 10:30:35,450 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Portfolio state dimension: 17
2025-09-22 10:30:35,450 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation space configured: Dict('observation': Box(-inf, inf, (3, 20, 15), float32), 'portfolio_state': Box(-inf, inf, (17,), float32))
2025-09-22 10:30:35,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DynamicBehaviorEngine initialisé avec succès
2025-09-22 10:30:35,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DBE connecté à l'environnement pour suivi de fréquence
2025-09-22 10:30:35,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Initialized max_steps to 500000 and max_chunks_per_episode to 10
2025-09-22 10:30:35,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Chunk configuration - Total chunks: 10, Max chunks per episode: 10
2025-09-22 10:30:35 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35,452 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,452 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,495 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Paramètres de risque initialisés - Taille position: 10.0% (5.0%-25.0%), Risque/trade: 1.00%, Drawdown max: 25.0%, Trades conc.: 5
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35,497 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35,497 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35,497 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35,497 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35,498 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,498 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,498 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 5m: 20 périodes
2025-09-22 10:30:35,498 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 1h: 20 périodes
2025-09-22 10:30:35,498 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 4h: 20 périodes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,498 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,644 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 5m: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,645 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 1h: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,645 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 4h: fenêtre=20, features=15
2025-09-22 10:30:35,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Using fixed observation shape: (3, 20, 15)
2025-09-22 10:30:35,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Portfolio state dimension: 17
2025-09-22 10:30:35,646 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation space configured: Dict('observation': Box(-inf, inf, (3, 20, 15), float32), 'portfolio_state': Box(-inf, inf, (17,), float32))
2025-09-22 10:30:35,646 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DynamicBehaviorEngine initialisé avec succès
2025-09-22 10:30:35,646 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DBE connecté à l'environnement pour suivi de fréquence
2025-09-22 10:30:35,646 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Initialized max_steps to 500000 and max_chunks_per_episode to 10
2025-09-22 10:30:35,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Chunk configuration - Total chunks: 10, Max chunks per episode: 10
2025-09-22 10:30:35 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35,647 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,647 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,689 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Paramètres de risque initialisés - Taille position: 10.0% (5.0%-25.0%), Risque/trade: 1.00%, Drawdown max: 25.0%, Trades conc.: 5
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35,691 - adan_trading_bot.data_processing.data_loader - INFO - Total chunks disponibles: 10
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35,691 - adan_trading_bot.data_processing.data_loader - INFO - Initialisation du ChunkedDataLoader avec 1 actifs et 3 timeframes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35,691 - adan_trading_bot.data_processing.data_loader - INFO - Chargement des données pour 1 actifs et 3 timeframes en parallèle (max 8 workers)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35,692 - adan_trading_bot.portfolio.portfolio_manager - INFO - 6 paliers de capital chargés avec succès: Ultra Micro Capital (1.0+), Micro Capital (11.0+), Small Capital (30.0+), Medium Capital (100.0+), High Capital (300.0+), Enterprise (1000.0+)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35,692 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:35 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,692 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:35,692 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 5m: 20 périodes
2025-09-22 10:30:35,692 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 1h: 20 périodes
2025-09-22 10:30:35,692 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration de la fenêtre pour 4h: 20 périodes
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35,692 - adan_trading_bot.data_processing.state_builder - INFO - === Configuration des caractéristiques par timeframe ===
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,693 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 5m: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,693 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 1h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,693 - adan_trading_bot.data_processing.state_builder - INFO - Timeframe 4h: 15 features - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,693 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 5m: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,693 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 1h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35,693 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités pour 4h: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - Initialized scalers for timeframes: ['5m', '1h', '4h']
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 5m: minmax with params: {'scaler_type': 'minmax', 'feature_range': (0, 1)}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 1h: standard with params: {'scaler_type': 'standard'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - Scaler initialized for timeframe 4h: robust with params: {'scaler_type': 'robust'}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - Observation dimensions - Market: 900 + Portfolio: 17 = Total: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized. Target flattened observation size: 917
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - Features per timeframe: {'5m': 15, '1h': 15, '4h': 15}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35,843 - adan_trading_bot.data_processing.state_builder - INFO - StateBuilder initialized with base_window_size=20, adaptive_window=True, timeframes=['5m', '1h', '4h'], features_per_timeframe={self.nb_features_per_tf}
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 5m: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 5m: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 1h: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 1h: fenêtre=20, features=15
2025-09-22 10:30:35 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.data_processing.state_builder - INFO - Configuration du timeframe 4h: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Configuration appliquée pour 4h: fenêtre=20, features=15
2025-09-22 10:30:35,844 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Using fixed observation shape: (3, 20, 15)
2025-09-22 10:30:35,844 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Portfolio state dimension: 17
2025-09-22 10:30:35,845 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation space configured: Dict('observation': Box(-inf, inf, (3, 20, 15), float32), 'portfolio_state': Box(-inf, inf, (17,), float32))
2025-09-22 10:30:35,845 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DynamicBehaviorEngine initialisé avec succès
2025-09-22 10:30:35,846 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - DBE connecté à l'environnement pour suivi de fréquence
2025-09-22 10:30:35,846 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Initialized max_steps to 500000 and max_chunks_per_episode to 10
2025-09-22 10:30:35,846 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Chunk configuration - Total chunks: 10, Max chunks per episode: 10
2025-09-22 10:30:35 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35,846 - adan_trading_bot.common.reward_logger - INFO - RewardLogger initialized with base path: logs/rewards
2025-09-22 10:30:35 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:35,846 - adan_trading_bot.environment.reward_calculator - INFO - RewardCalculator initialized with multi-objective optimization and detailed logging.
2025-09-22 10:30:37 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:37,617 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:37 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:37,617 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:37,618 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.data_loader - INFO - [Worker 0] [DATA_LOADER] Début du chargement du chunk 0 pour 1 actifs et 3 timeframes
2025-09-22 10:30:37,618 - adan_trading_bot.data_processing.data_loader - INFO - [Worker 0] [DATA_LOADER] Début du chargement du chunk 0 pour 1 actifs et 3 timeframes

Chargement des données:   0%|          | 0/3 [00:00<?, ?it/s]
Chargement des données:  33%|███▎      | 1/3 [00:00<00:00, 67.56it/s, BTCUSDT 4h - 1000 lignes]
Chargement des données:  67%|██████▋   | 2/3 [00:00<00:00, 86.18it/s, BTCUSDT 1h - 1000 lignes]
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 33.37it/s, BTCUSDT 5m - 1000 lignes]
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 33.28it/s, BTCUSDT 5m - 1000 lignes]
2025-09-22 10:30:37 - adan_trading_bot.data_processing.data_loader - INFO - [Worker 0] [DATA_LOADER] Chunk 0 chargé pour 1 actifs et 3 timeframes en 0.10s
2025-09-22 10:30:37,714 - adan_trading_bot.data_processing.data_loader - INFO - [Worker 0] [DATA_LOADER] Chunk 0 chargé pour 1 actifs et 3 timeframes en 0.10s
2025-09-22 10:30:37,715 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:37,715 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:37,715 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:37,715 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:37,715 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:37,715 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,716 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,717 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,727 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,728 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,728 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,728 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,728 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,740 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,740 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,740 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:37,740 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,741 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,742 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,745 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,745 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,745 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,745 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,745 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,755 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,755 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,755 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:37,755 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,756 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,757 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,760 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,760 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,760 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,760 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,760 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,770 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,770 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,770 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:37,770 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:37,771 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,771 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,771 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:37,771 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:37,771 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:37,771 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:37,772 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:37,772 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:37,772 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:37,772 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:37,772 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:37,772 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:37,772 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:37,772 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:37 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:37,773 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:37 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:37,773 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50

Chargement des données:   0%|          | 0/3 [00:00<?, ?it/s]
Chargement des données:  33%|███▎      | 1/3 [00:00<00:00, 64.68it/s, BTCUSDT 4h - 1000 lignes]
Chargement des données:  67%|██████▋   | 2/3 [00:00<00:00, 125.03it/s, BTCUSDT 1h - 1000 lignes]
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 41.75it/s, BTCUSDT 5m - 1000 lignes] 
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 41.61it/s, BTCUSDT 5m - 1000 lignes]
2025-09-22 10:30:37,848 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,849 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,850 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,853 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,853 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,853 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,853 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,853 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,864 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,864 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,864 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:37,864 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:37,865 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,865 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,865 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:37,865 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:37,865 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,866 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,866 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,866 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,869 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,869 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,869 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,869 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,869 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,879 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,880 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,880 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:37,880 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:37,880 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,880 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,881 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:37,881 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:37,881 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,881 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,881 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,881 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,884 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,884 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,884 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,884 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,884 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,895 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,895 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,895 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:37,895 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:37,896 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,896 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,896 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:37,896 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:37,896 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:37,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:37,897 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:37,897 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:37 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:37,898 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:37 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:37,898 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50

Chargement des données:   0%|          | 0/3 [00:00<?, ?it/s]
Chargement des données:  33%|███▎      | 1/3 [00:00<00:00, 56.66it/s, BTCUSDT 4h - 1000 lignes]
Chargement des données:  67%|██████▋   | 2/3 [00:00<00:00, 110.55it/s, BTCUSDT 1h - 1000 lignes]
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 46.13it/s, BTCUSDT 5m - 1000 lignes] 
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 45.97it/s, BTCUSDT 5m - 1000 lignes]
2025-09-22 10:30:37,966 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,967 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,968 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,971 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,971 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,971 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,971 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,971 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,982 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,982 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,982 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:37,982 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,983 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,984 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37,986 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37,986 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37,986 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,986 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37,987 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,996 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37,996 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:37,997 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37,998 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37,998 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:37 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:37,998 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,001 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38,001 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38,001 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,001 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38,001 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,011 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38,011 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,011 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,011 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,012 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,012 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,012 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:38,012 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:38,012 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,013 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,013 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,013 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:38,013 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Performing full reset (reason: new_epoch=True, capital=$20.50, threshold=$11.00)
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50
2025-09-22 10:30:38,014 - adan_trading_bot.portfolio.portfolio_manager - WARNING - [FULL RESET] Portefeuille réinitialisé au capital initial: 20.50

Chargement des données:   0%|          | 0/3 [00:00<?, ?it/s]
Chargement des données:  33%|███▎      | 1/3 [00:00<00:00, 75.10it/s, BTCUSDT 4h - 1000 lignes]
Chargement des données:  67%|██████▋   | 2/3 [00:00<00:00, 121.00it/s, BTCUSDT 1h - 1000 lignes]
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 51.40it/s, BTCUSDT 5m - 1000 lignes] 
Chargement des données: 100%|██████████| 3/3 [00:00<00:00, 51.21it/s, BTCUSDT 5m - 1000 lignes]
2025-09-22 10:30:38,075 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:38,075 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Construction de l'observation (premier appel) ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:38,075 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:38,075 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes disponibles: ['4h', '1h', '5m']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:38,075 - adan_trading_bot.data_processing.state_builder - INFO - Nombre maximum de fonctionnalités configurées: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO - Configuration des fonctionnalités par timeframe:
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO -   - 5m: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO -   - 1h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO -   - 4h: 15 fonctionnalités - ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 5m ---
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 5m ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 5m (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,076 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,079 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38,080 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38,080 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,080 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38,080 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,090 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38,090 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,090 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,090 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,091 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,091 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,091 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 5m: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:38,091 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 1h ---
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:38,091 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 1h ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:38,091 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,092 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 1h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,092 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,095 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38,096 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38,096 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,096 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38,096 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,106 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38,106 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,106 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,106 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 1h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - 
--- Traitement du timeframe: 4h ---
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Traitement du timeframe 4h ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - Index courant: 0, Taille max des caractéristiques: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,107 - adan_trading_bot.data_processing.state_builder - INFO - Caractéristiques attendues pour 4h (15): ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,108 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,110 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38,110 - adan_trading_bot.data_processing.state_builder - WARNING - Aucune colonne 'timestamp' (insensible à la casse) trouvée dans les données
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38,110 - adan_trading_bot.data_processing.state_builder - INFO - Création du DataFrame traité avec les colonnes attendues
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,110 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes attendues: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38,110 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes disponibles dans les données: ['ATR_14', 'BB_MIDDLE', 'EMA_12', 'LOW', 'ADX_14', 'HIGH', 'RSI_14', 'BB_UPPER', 'SMA_200', 'MACD_HIST', 'CLOSE', 'BB_LOWER', 'EMA_26', 'VOLUME', 'OPEN', 'MACD_HIST_12_26_9', 'SMA_20']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,120 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes ajoutées au DataFrame traité: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38,120 - adan_trading_bot.data_processing.state_builder - INFO - Nombre de colonnes dans le DataFrame traité: 15
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38,120 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes actuelles: ['open', 'high', 'low', 'close', 'volume', 'rsi_14', 'macd_hist', 'atr_14', 'bb_upper', 'bb_middle', 'bb_lower', 'ema_12', 'ema_26', 'sma_200', 'adx_14']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,121 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,121 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,121 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38,121 - adan_trading_bot.data_processing.state_builder - INFO - Observation traitée pour 4h: shape=(20, 15), type=ndarray
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:38,121 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Alignement des observations ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:38,121 - adan_trading_bot.data_processing.state_builder - INFO - Timeframes à aligner: ['5m', '1h', '4h']
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation alignée: (3, 20, 15)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - Forme attendue: (3, 20, 15)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - 
=== Vérification finale de l'observation ===
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'observation: (3, 20, 15)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - Type de l'observation: <class 'numpy.ndarray'>
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - Forme de l'état du portefeuille: (17,)
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,122 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,122 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,122 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,135 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:38,136 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 0.0000, Frequency: -30.0000, Total: -30.0000, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,136 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,136 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.06907], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,136 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.06907007]
2025-09-22 10:30:38,136 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.50
2025-09-22 10:30:38,137 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,137 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 0.0% | Trades: 0 (0W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38,139 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 0.0% | Trades: 0 (0W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/0.82 USDT (0.0%/4.0%), Équité: 20.50 USDT, Cash: 20.50 USDT, Solde dispo: 20.50 USDT
2025-09-22 10:30:38,139 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/0.82 USDT (0.0%/4.0%), Équité: 20.50 USDT, Cash: 20.50 USDT, Solde dispo: 20.50 USDT
2025-09-22 10:30:38,140 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,140 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,141 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,143 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,143 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($20.50 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,147 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($20.50 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,148 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,148 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,149 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,152 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,167 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,168 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,169 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,173 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,185 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,186 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,186 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,189 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,201 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,202 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,202 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 0.0000, Frequency: -30.0000, Total: -30.0000, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,204 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.213533], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.21353306]
2025-09-22 10:30:38,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.50
2025-09-22 10:30:38,204 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,204 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,206 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,206 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,207 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,208 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,208 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($20.50 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,209 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($20.50 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,210 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,210 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,210 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,213 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,224 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,225 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,225 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,228 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,239 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,240 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,241 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,244 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,254 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,254 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,255 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,255 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,255 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,256 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 0.0000, Frequency: -30.0000, Total: -30.0000, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,256 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,256 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.532058], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,256 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.53205776]
2025-09-22 10:30:38,256 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.50
2025-09-22 10:30:38,257 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,257 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,258 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,258 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,259 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,260 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,260 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($20.50 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,261 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($20.50 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,261 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,262 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,262 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,265 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,274 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,275 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,276 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,278 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,288 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,289 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,290 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,292 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,302 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,303 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,304 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,304 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,304 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,305 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:38,305 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: -0.0100, Frequency: -26.0000, Total: -26.0100, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:38,305 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:38,305 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.375807], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,305 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.3758073]
2025-09-22 10:30:38,306 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.49
2025-09-22 10:30:38,306 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,306 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,309 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,309 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,311 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,311 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,311 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,313 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,314 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,315 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,315 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,319 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,331 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,332 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,333 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,337 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,349 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,350 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,350 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,354 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,364 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,365 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,366 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,366 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,366 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,369 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:38,370 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 20.50 USDT
2025-09-22 10:30:38,370 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 20.50 USDT
2025-09-22 10:30:38,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:38,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 0.0000, Frequency: -26.0000, Total: -26.0000, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:38,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:38,371 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:38,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.49
2025-09-22 10:30:38,371 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,371 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:38,373 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 5423.46 USDT | Équité: 20.50 USDT
2025-09-22 10:30:38,373 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 5423.46 USDT | Équité: 20.50 USDT
2025-09-22 10:30:38 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 2, Wins: 1, Losses: 0, Neutral: 1
2025-09-22 10:30:38,374 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 2, Wins: 1, Losses: 0, Neutral: 1
2025-09-22 10:30:38 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001]
2025-09-22 10:30:38,374 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001]
2025-09-22 10:30:38 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 2 (1W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38,374 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 2 (1W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/135.59 USDT (0.0%/2.5%), Équité: 5423.46 USDT, Cash: 5423.46 USDT, Solde dispo: 5423.46 USDT
2025-09-22 10:30:38,374 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/135.59 USDT (0.0%/2.5%), Équité: 5423.46 USDT, Cash: 5423.46 USDT, Solde dispo: 5423.46 USDT
2025-09-22 10:30:38,375 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:38,375 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,375 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,376 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,377 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,377 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,378 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,378 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,379 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38,379 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38,379 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,379 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,379 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,380 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,383 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,396 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,397 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,398 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,401 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,413 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,414 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,415 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,418 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,429 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,430 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,430 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 0.0000, Frequency: -26.0000, Total: -26.0000, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.49
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,432 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,434 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,434 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,436 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,436 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,436 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,438 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,438 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,438 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,439 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,442 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,453 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,454 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,454 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,457 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,468 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,468 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,469 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,471 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,482 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,482 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,483 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,483 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,483 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 0.0000, Frequency: -26.0000, Total: -26.0000, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.552475], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.552475]
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 20.49
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,484 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,487 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,488 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,488 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,489 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,490 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,490 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,493 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,503 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,504 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,504 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,507 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,517 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,518 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,518 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,521 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,532 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,532 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,533 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 5402.9586, Frequency: -26.0000, Total: 5376.9586, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.45
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,534 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,536 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,536 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,538 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,538 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,539 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,540 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,540 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,540 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,541 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,544 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,554 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,555 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,558 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,561 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,571 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,572 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,573 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,575 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,585 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,586 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,587 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,590 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:38,590 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 5402.9586, Frequency: -30.0000, Total: 5372.9586, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,591 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,591 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.208056], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,591 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.20805608]
2025-09-22 10:30:38,591 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.46
2025-09-22 10:30:38,591 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,591 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 2 (1W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38,594 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 2 (1W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38,594 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,594 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,595 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,596 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,596 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,597 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,597 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,598 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38,598 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38,598 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,598 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,598 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,599 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,602 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,615 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,616 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,617 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,620 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,632 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,633 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,633 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,636 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,650 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,650 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,651 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,651 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,651 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 5402.9586, Frequency: -30.0000, Total: 5372.9586, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.46
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,652 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,654 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,654 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,656 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,656 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,656 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,657 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,658 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,658 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,658 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,662 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,673 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,673 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,674 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,676 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,686 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,687 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,688 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,690 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,700 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,701 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,702 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 5402.9586, Frequency: -30.0000, Total: 5372.9586, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,702 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.455889], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,703 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.45588925]
2025-09-22 10:30:38,703 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.46
2025-09-22 10:30:38,703 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,703 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,705 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,705 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,706 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,706 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,706 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,707 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,708 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,708 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,708 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,711 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,721 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,722 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,722 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,725 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,735 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,735 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,736 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,739 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,750 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,751 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,752 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,752 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:38,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:38,753 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,753 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,755 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,755 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,756 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,756 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,756 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,757 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,758 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,758 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,758 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,761 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,771 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,771 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,772 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,774 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,784 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,785 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,785 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,788 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,798 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,798 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,799 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,799 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,799 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,803 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:38,803 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 5402.9586, Frequency: -30.0000, Total: 5372.9586, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,803 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,803 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,804 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:38,804 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.46
2025-09-22 10:30:38,804 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,804 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 2 (1W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38,806 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 2 (1W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:38,806 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,806 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,808 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,808 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,808 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,809 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,810 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,810 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38,810 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38,810 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:38,810 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,810 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,811 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,814 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,826 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,827 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,828 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,831 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,843 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,844 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,844 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,847 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,860 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,861 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,862 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,862 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,862 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,862 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 5402.9586, Frequency: -30.0000, Total: 5372.9586, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,862 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,863 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,863 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:38,863 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.46
2025-09-22 10:30:38,863 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,863 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,865 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,865 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,866 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,867 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,867 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,868 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($5423.46 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,868 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,869 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,869 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,872 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,883 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,883 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,884 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,887 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,898 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,899 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,901 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,911 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,912 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,912 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,912 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,912 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,913 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:38,913 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 5402.9586, Frequency: -26.0000, Total: 5376.9586, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:38,913 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:38,913 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.704475], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,914 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.70447505]
2025-09-22 10:30:38,914 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.45
2025-09-22 10:30:38,914 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,914 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,916 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,916 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,917 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,917 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,917 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,918 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,919 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,919 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,919 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,922 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,932 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,933 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,933 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,936 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,946 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,947 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,947 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,950 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38,961 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38,962 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,963 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:38,963 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:38,963 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:38,963 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:38,963 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:38,963 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.541527], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:38,964 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.5415268]
2025-09-22 10:30:38,964 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:38,964 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,964 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38,965 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:38,966 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:38 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,967 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,967 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38,967 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:38 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,968 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:38,968 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38,969 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,969 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,972 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38,982 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38,982 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,983 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,985 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38,995 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38,996 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38,997 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:38 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:38,999 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,009 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,010 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,010 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,010 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,010 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,013 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:39,014 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 5423.46 USDT
2025-09-22 10:30:39,014 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 5423.46 USDT
2025-09-22 10:30:39,014 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,014 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 5402.9586, Frequency: -26.0000, Total: 5376.9586, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,015 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,015 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.44906], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,015 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.44905964]
2025-09-22 10:30:39,015 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.45
2025-09-22 10:30:39,015 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,015 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:39,017 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 10826.42 USDT | Équité: 5423.46 USDT
2025-09-22 10:30:39,017 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 10826.42 USDT | Équité: 5423.46 USDT
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 4, Wins: 2, Losses: 0, Neutral: 2
2025-09-22 10:30:39,018 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 4, Wins: 2, Losses: 0, Neutral: 2
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:39,018 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 4 (2W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,018 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 4 (2W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/270.66 USDT (0.0%/2.5%), Équité: 10826.42 USDT, Cash: 10826.42 USDT, Solde dispo: 10826.42 USDT
2025-09-22 10:30:39,018 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/270.66 USDT (0.0%/2.5%), Équité: 10826.42 USDT, Cash: 10826.42 USDT, Solde dispo: 10826.42 USDT
2025-09-22 10:30:39,018 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:39,019 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,019 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,020 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,020 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,021 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,022 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,022 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,023 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39,023 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39,023 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,023 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,023 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,024 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,027 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,042 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,043 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,044 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,048 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,062 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,062 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,063 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,066 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,078 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,079 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,079 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,080 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,080 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,080 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,080 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 5402.9586, Frequency: -26.0000, Total: 5376.9586, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,081 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,081 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.594135], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,081 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.5941351]
2025-09-22 10:30:39,081 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 5423.45
2025-09-22 10:30:39,081 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,081 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,084 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,084 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,085 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,085 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,086 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,087 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,087 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,087 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,088 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,091 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,102 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,102 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,103 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,106 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,116 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,117 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,118 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,120 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,131 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,132 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,132 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,132 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,132 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,133 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,133 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 10805.9172, Frequency: -26.0000, Total: 10779.9172, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,133 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,133 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.788695], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,134 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.788695]
2025-09-22 10:30:39,134 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.41
2025-09-22 10:30:39,134 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,134 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,136 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,136 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,137 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,137 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,137 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,138 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,139 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,139 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,139 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,142 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,153 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,154 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,155 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,158 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,170 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,171 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,172 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,175 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,185 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,186 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,186 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,186 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,186 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,187 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,187 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,187 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.632581], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,187 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.6325808]
2025-09-22 10:30:39,187 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:39,187 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,188 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,189 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,190 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,191 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,191 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,191 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,192 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,193 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,193 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,193 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,196 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,207 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,207 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,208 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,210 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,221 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,221 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,222 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,225 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,235 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,235 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,236 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,236 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,236 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,239 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:39,239 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 10826.42 USDT
2025-09-22 10:30:39,239 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 10826.42 USDT
2025-09-22 10:30:39,240 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,240 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 10805.9172, Frequency: -26.0000, Total: 10779.9172, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,240 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,240 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,240 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:39,240 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.41
2025-09-22 10:30:39,241 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,241 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:39,242 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 16229.38 USDT | Équité: 10826.42 USDT
2025-09-22 10:30:39,242 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 16229.38 USDT | Équité: 10826.42 USDT
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 6, Wins: 3, Losses: 0, Neutral: 3
2025-09-22 10:30:39,243 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 6, Wins: 3, Losses: 0, Neutral: 3
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:39,243 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 6 (3W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,243 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 6 (3W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/405.73 USDT (0.0%/2.5%), Équité: 16229.38 USDT, Cash: 16229.38 USDT, Solde dispo: 16229.38 USDT
2025-09-22 10:30:39,244 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/405.73 USDT (0.0%/2.5%), Équité: 16229.38 USDT, Cash: 16229.38 USDT, Solde dispo: 16229.38 USDT
2025-09-22 10:30:39,244 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:39,244 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,244 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,245 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,246 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,246 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,247 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,247 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,248 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39,248 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39,248 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,248 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,248 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,249 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,252 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,274 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,275 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,276 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,279 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,290 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,290 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,291 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,294 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,305 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,306 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,306 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,306 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,306 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,307 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,307 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,307 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,307 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:39,307 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:39,308 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,308 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,310 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,310 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,311 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,311 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,311 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,313 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,313 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,313 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,314 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,317 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,327 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,328 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,329 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,331 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,341 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,342 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,343 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,345 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,355 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,356 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,356 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,356 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,356 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 16208.8758, Frequency: -30.0000, Total: 16178.8758, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.38
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,357 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,359 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,359 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,361 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,361 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,361 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,362 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,362 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,363 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,363 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,367 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,378 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,379 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,380 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,383 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,395 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,395 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,396 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,399 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,411 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,411 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,412 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,412 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,412 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.243281], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.24328105]
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,413 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,415 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,415 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,417 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,417 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,417 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,418 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,419 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,419 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,420 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,423 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,435 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,435 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,436 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,439 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,449 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,450 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,451 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,453 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,464 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,465 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,465 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,466 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,466 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,470 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:39,470 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 16229.38 USDT
2025-09-22 10:30:39,470 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 16229.38 USDT
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 16208.8758, Frequency: -26.0000, Total: 16182.8758, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.319668], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.31966773]
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.37
2025-09-22 10:30:39,471 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,472 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:39,473 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 21632.33 USDT | Équité: 16229.38 USDT
2025-09-22 10:30:39,473 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 21632.33 USDT | Équité: 16229.38 USDT
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 8, Wins: 4, Losses: 0, Neutral: 4
2025-09-22 10:30:39,474 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 8, Wins: 4, Losses: 0, Neutral: 4
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:39,474 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 8 (4W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,474 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 8 (4W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/540.81 USDT (0.0%/2.5%), Équité: 21632.33 USDT, Cash: 21632.33 USDT, Solde dispo: 21632.33 USDT
2025-09-22 10:30:39,474 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/540.81 USDT (0.0%/2.5%), Équité: 21632.33 USDT, Cash: 21632.33 USDT, Solde dispo: 21632.33 USDT
2025-09-22 10:30:39,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:39,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,476 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,477 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,477 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,478 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,478 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,479 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,480 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,483 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,497 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,497 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,498 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,502 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,515 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,516 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,516 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,520 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,531 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,532 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,532 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 10805.9172, Frequency: -26.0000, Total: 10779.9172, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,534 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.861137], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.8611372]
2025-09-22 10:30:39,534 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.41
2025-09-22 10:30:39,534 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,534 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,536 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,537 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,538 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,538 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,538 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,539 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,540 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,540 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,541 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,543 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,554 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,555 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,556 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,558 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,569 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,571 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,572 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,574 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,585 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,585 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,586 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 16208.8758, Frequency: -26.0000, Total: 16182.8758, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,587 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.657321], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.65732116]
2025-09-22 10:30:39,588 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.37
2025-09-22 10:30:39,588 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,588 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,590 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,590 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,591 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,591 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,591 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,592 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,593 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,593 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,594 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,597 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,607 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,608 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,608 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,611 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,621 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,621 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,622 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,625 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,635 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,635 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,636 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,636 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,636 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,636 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,637 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,637 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.350021], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,637 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.35002065]
2025-09-22 10:30:39,637 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:39,637 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,637 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,639 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,639 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,640 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,640 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,641 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,641 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,642 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,642 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,643 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,645 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,655 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,656 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,656 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,659 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,669 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,670 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,670 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,674 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,684 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,685 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,686 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,686 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,686 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,689 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:39,689 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 21611.8345, Frequency: -30.0000, Total: 21581.8345, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,689 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,690 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.701758], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,690 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.70175815]
2025-09-22 10:30:39,690 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.33
2025-09-22 10:30:39,690 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,690 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 8 (4W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,692 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 8 (4W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,692 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,692 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,693 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,694 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,694 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,695 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,695 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,696 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,697 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,700 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,711 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,712 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,713 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,716 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,728 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,729 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,730 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,733 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,744 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,745 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,746 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,746 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,746 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,746 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 16208.8758, Frequency: -30.0000, Total: 16178.8758, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,746 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,747 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,747 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:39,747 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.38
2025-09-22 10:30:39,747 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,747 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,749 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,749 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,751 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,751 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,751 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,752 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,753 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,754 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,757 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,768 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,769 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,770 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,773 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,785 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,786 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,786 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,789 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,800 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,800 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,801 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,801 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,801 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,802 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:39,802 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 21611.8345, Frequency: -26.0000, Total: 21585.8345, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:39,802 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:39,802 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.329024], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,802 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.32902354]
2025-09-22 10:30:39,802 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.32
2025-09-22 10:30:39,803 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,803 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,805 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,805 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,806 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,806 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,806 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,807 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,808 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,808 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,809 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,811 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,829 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,831 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,831 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,835 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,845 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,846 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,847 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,849 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,859 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,860 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,860 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,861 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,861 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,861 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,861 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,862 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.585683], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,862 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.585683]
2025-09-22 10:30:39,862 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:39,862 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,862 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,864 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,864 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,865 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,865 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,866 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,867 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,867 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,867 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,868 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,870 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,882 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,883 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,884 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,886 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,898 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,900 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,910 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,911 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,911 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,912 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,912 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,915 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:39,915 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 21611.8345, Frequency: -30.0000, Total: 21581.8345, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,915 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,915 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.094161], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,916 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.09416065]
2025-09-22 10:30:39,916 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.33
2025-09-22 10:30:39,916 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,916 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 8 (4W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,918 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 8 (4W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:39,918 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,918 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,919 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,920 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,920 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,921 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,921 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,922 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39,922 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39,922 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:39,922 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,922 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,923 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,926 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,937 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,938 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,939 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,942 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39,954 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39,955 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,956 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,959 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39,971 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39,972 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,972 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:39,972 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:39,973 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:39,973 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 16208.8758, Frequency: -30.0000, Total: 16178.8758, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:39,973 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:39,973 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.072162], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:39,974 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.07216194]
2025-09-22 10:30:39,974 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.38
2025-09-22 10:30:39,974 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,974 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39,977 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:39,977 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:39 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,978 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,978 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39,979 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:39 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,980 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:39,980 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39,981 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,981 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39,984 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39,996 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39,997 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:39 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:39,998 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,000 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,011 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,012 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,012 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,015 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,025 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,026 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,027 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,027 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,027 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,028 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,028 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 27014.7931, Frequency: -26.0000, Total: 26988.7931, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,028 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,028 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,029 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:40,029 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 27035.28
2025-09-22 10:30:40,029 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,029 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,031 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,031 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,032 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,032 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,033 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,033 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,034 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,034 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,035 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,037 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,047 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,048 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,049 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,051 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,061 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,062 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,063 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,065 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,075 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,076 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,076 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,076 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,076 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,077 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -30.0000, Total: 10775.9172, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,077 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,077 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.10151], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,077 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.10150959]
2025-09-22 10:30:40,077 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.42
2025-09-22 10:30:40,077 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,078 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,080 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,080 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,081 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,082 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,082 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,083 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($10826.42 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,083 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,083 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,084 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,087 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,097 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,098 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,098 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,101 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,111 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,111 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,112 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,115 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,125 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,125 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,126 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,126 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,126 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,129 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:40,130 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 21632.33 USDT
2025-09-22 10:30:40,130 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 21632.33 USDT
2025-09-22 10:30:40,130 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,130 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 21611.8345, Frequency: -26.0000, Total: 21585.8345, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,130 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,131 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,131 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:40,131 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.32
2025-09-22 10:30:40,131 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,131 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:40,132 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 27035.29 USDT | Équité: 21632.33 USDT
2025-09-22 10:30:40,132 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 27035.29 USDT | Équité: 21632.33 USDT
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 10, Wins: 5, Losses: 0, Neutral: 5
2025-09-22 10:30:40,136 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 10, Wins: 5, Losses: 0, Neutral: 5
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:40,136 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 10 (5W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40,137 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 10 (5W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/675.88 USDT (0.0%/2.5%), Équité: 27035.29 USDT, Cash: 27035.29 USDT, Solde dispo: 27035.29 USDT
2025-09-22 10:30:40,137 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/675.88 USDT (0.0%/2.5%), Équité: 27035.29 USDT, Cash: 27035.29 USDT, Solde dispo: 27035.29 USDT
2025-09-22 10:30:40,137 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:40,137 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,137 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,138 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,139 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,139 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,140 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,140 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,141 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,142 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,145 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,157 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,158 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,159 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,163 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,176 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,176 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,177 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,180 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,194 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,195 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,196 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,196 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,196 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,197 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,197 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 16208.8758, Frequency: -26.0000, Total: 16182.8758, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,197 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,197 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,197 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:40,197 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.37
2025-09-22 10:30:40,198 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,198 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,200 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,201 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,202 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,202 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,202 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,204 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,205 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,205 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,208 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,219 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,220 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,221 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,223 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,234 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,235 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,235 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,238 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,248 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,249 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,249 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,250 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,250 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,250 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 32417.7517, Frequency: -30.0000, Total: 32387.7517, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,250 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,250 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.775389], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,251 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.7753892]
2025-09-22 10:30:40,251 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.25
2025-09-22 10:30:40,251 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,251 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,253 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,253 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,254 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,254 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,254 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,255 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,256 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,256 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,257 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,259 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,270 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,270 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,271 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,274 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,284 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,285 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,286 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,289 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,300 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,301 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,301 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,301 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,301 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,302 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,302 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 10805.9172, Frequency: -26.0000, Total: 10779.9172, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,302 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,303 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.561522], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,303 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.56152236]
2025-09-22 10:30:40,303 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 10826.41
2025-09-22 10:30:40,303 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,303 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,305 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,305 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,306 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,307 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,307 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,308 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($16229.38 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,308 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,309 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,309 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,312 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,324 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,324 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,325 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,328 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,340 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,341 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,341 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,344 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,354 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,355 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,356 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,356 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,356 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,359 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 27014.7931, Frequency: -30.0000, Total: 26984.7931, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 27035.29
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,360 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 10 (5W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40,363 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 10 (5W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40,363 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,363 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,364 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,365 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,365 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,366 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,366 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,366 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40,367 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40,367 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,367 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,367 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,368 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,371 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,384 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,386 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,387 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,391 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,404 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,404 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,405 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,408 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,420 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,421 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,421 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,421 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,421 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,422 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 21611.8345, Frequency: -30.0000, Total: 21581.8345, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,422 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,422 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.437943], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,422 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.4379429]
2025-09-22 10:30:40,423 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.33
2025-09-22 10:30:40,423 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,423 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,425 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,425 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,426 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,427 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,427 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,428 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,429 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,429 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,429 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,432 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,443 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,444 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,445 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,447 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,458 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,459 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,460 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,463 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,473 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,473 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,474 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,474 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,474 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 32417.7517, Frequency: -30.0000, Total: 32387.7517, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.25
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,477 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,477 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,479 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,479 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,479 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,480 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,481 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,481 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,481 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,484 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,496 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,497 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,497 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,500 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,510 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,510 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,511 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,514 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,524 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,524 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,525 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,525 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,525 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,526 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,526 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 16208.8758, Frequency: -26.0000, Total: 16182.8758, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,526 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,526 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.839147], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,527 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.839147]
2025-09-22 10:30:40,527 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 16229.37
2025-09-22 10:30:40,527 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,527 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,529 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,529 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,531 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,531 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,531 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,532 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,533 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,533 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,536 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,546 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,547 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,548 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,550 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,560 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,561 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,562 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,564 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,574 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,575 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,575 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,576 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,576 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,579 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:40,579 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 27035.29 USDT
2025-09-22 10:30:40,579 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 27035.29 USDT
2025-09-22 10:30:40,579 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 27014.7931, Frequency: -26.0000, Total: 26988.7931, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.935311], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.9353107]
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 27035.28
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,580 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:40,582 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 32438.25 USDT | Équité: 27035.29 USDT
2025-09-22 10:30:40,582 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 32438.25 USDT | Équité: 27035.29 USDT
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 12, Wins: 6, Losses: 0, Neutral: 6
2025-09-22 10:30:40,583 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 12, Wins: 6, Losses: 0, Neutral: 6
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:40,583 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 12 (6W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40,583 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 12 (6W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/810.96 USDT (0.0%/2.5%), Équité: 32438.25 USDT, Cash: 32438.25 USDT, Solde dispo: 32438.25 USDT
2025-09-22 10:30:40,583 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/810.96 USDT (0.0%/2.5%), Équité: 32438.25 USDT, Cash: 32438.25 USDT, Solde dispo: 32438.25 USDT
2025-09-22 10:30:40,583 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:40,584 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,584 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,585 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,585 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,586 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,587 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,588 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,588 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,588 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,592 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,606 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,606 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,607 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,610 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,623 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,624 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,625 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,628 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,640 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,640 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,641 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,641 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,641 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,642 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,642 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 21611.8345, Frequency: -26.0000, Total: 21585.8345, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,642 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,643 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.633534], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,643 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.6335337]
2025-09-22 10:30:40,643 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.32
2025-09-22 10:30:40,643 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,643 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,646 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,646 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,647 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,648 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,648 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,649 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,649 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,650 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,650 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,653 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,664 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,665 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,665 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,668 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,680 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,680 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,681 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,684 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,694 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,695 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,696 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 32417.7517, Frequency: -30.0000, Total: 32387.7517, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,697 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.110563], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,697 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.11056259]
2025-09-22 10:30:40,697 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.25
2025-09-22 10:30:40,697 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,697 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,699 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,699 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,700 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,701 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,701 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,702 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,703 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,703 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,706 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,717 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,718 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,718 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,721 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,731 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,731 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,732 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,734 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,745 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,746 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,746 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,747 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,747 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,747 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 21611.8345, Frequency: -30.0000, Total: 21581.8345, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,747 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,747 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,748 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:40,748 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.33
2025-09-22 10:30:40,748 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,748 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,749 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,750 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,751 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,751 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,751 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,752 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,753 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,753 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,755 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,766 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,766 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,767 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,769 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,780 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,781 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,782 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,784 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,794 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,795 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,796 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,796 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,796 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,799 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:40,799 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 32438.25 USDT
2025-09-22 10:30:40,799 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 32438.25 USDT
2025-09-22 10:30:40,800 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,800 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 32417.7517, Frequency: -26.0000, Total: 32391.7517, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,800 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,800 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.693229], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,801 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.69322896]
2025-09-22 10:30:40,801 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.24
2025-09-22 10:30:40,801 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,801 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:40,802 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 37841.21 USDT | Équité: 32438.25 USDT
2025-09-22 10:30:40,802 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 37841.21 USDT | Équité: 32438.25 USDT
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 14, Wins: 7, Losses: 0, Neutral: 7
2025-09-22 10:30:40,803 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 14, Wins: 7, Losses: 0, Neutral: 7
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:40,803 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:40 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 14 (7W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40,803 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 14 (7W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/946.03 USDT (0.0%/2.5%), Équité: 37841.21 USDT, Cash: 37841.21 USDT, Solde dispo: 37841.21 USDT
2025-09-22 10:30:40,804 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/946.03 USDT (0.0%/2.5%), Équité: 37841.21 USDT, Cash: 37841.21 USDT, Solde dispo: 37841.21 USDT
2025-09-22 10:30:40,804 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:40,804 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,804 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,805 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,806 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,806 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,807 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,807 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,808 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40,808 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40,808 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:40,808 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,808 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,809 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,813 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,827 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,827 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,828 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,832 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,853 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,854 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,854 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,858 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,871 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,872 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,872 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,872 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,872 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,873 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,873 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 27014.7931, Frequency: -26.0000, Total: 26988.7931, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,873 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,874 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:40,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 27035.28
2025-09-22 10:30:40,874 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,874 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,876 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,876 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,877 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,878 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,878 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,879 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,879 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,880 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,880 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,883 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,894 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,895 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,897 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,899 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,910 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,911 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,912 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,915 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,925 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,926 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,927 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,927 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,927 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,928 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:40,928 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 32417.7517, Frequency: -26.0000, Total: 32391.7517, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:40,928 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:40,928 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,928 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:40,929 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.24
2025-09-22 10:30:40,929 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,929 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,931 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,931 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,932 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,932 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,932 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,933 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,934 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,934 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,934 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,937 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,947 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,948 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,948 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,951 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40,961 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40,962 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,963 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,965 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40,975 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40,976 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,976 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:40,976 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:40,977 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:40,977 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 21611.8345, Frequency: -30.0000, Total: 21581.8345, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:40,977 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:40,977 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.005744], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:40,977 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.00574407]
2025-09-22 10:30:40,978 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.33
2025-09-22 10:30:40,978 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,978 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40,980 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:40,980 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:40 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,981 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,981 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40,981 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:40 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,982 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:40,982 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40,983 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,983 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40,986 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40,997 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40,998 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:40 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:40,999 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,001 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,011 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,012 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,013 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,016 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,027 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,028 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,028 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,028 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,029 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,031 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:41,032 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 37841.21 USDT
2025-09-22 10:30:41,032 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 37841.21 USDT
2025-09-22 10:30:41,032 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,032 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 37820.7103, Frequency: -26.0000, Total: 37794.7103, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,032 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,032 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.74196], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,033 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.7419595]
2025-09-22 10:30:41,033 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.20
2025-09-22 10:30:41,033 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,033 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:41,034 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 43244.17 USDT | Équité: 37841.21 USDT
2025-09-22 10:30:41,034 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 43244.17 USDT | Équité: 37841.21 USDT
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 16, Wins: 8, Losses: 0, Neutral: 8
2025-09-22 10:30:41,035 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 16, Wins: 8, Losses: 0, Neutral: 8
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:41,035 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 16 (8W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,035 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 16 (8W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1081.10 USDT (0.0%/2.5%), Équité: 43244.17 USDT, Cash: 43244.17 USDT, Solde dispo: 43244.17 USDT
2025-09-22 10:30:41,036 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1081.10 USDT (0.0%/2.5%), Équité: 43244.17 USDT, Cash: 43244.17 USDT, Solde dispo: 43244.17 USDT
2025-09-22 10:30:41,036 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:41,036 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,036 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,037 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,037 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,038 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,039 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,039 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,039 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41,039 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41,039 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,040 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,040 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,040 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,043 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,055 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,056 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,057 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,060 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,074 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,075 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,075 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,078 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,090 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,091 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,091 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 32417.7517, Frequency: -30.0000, Total: 32387.7517, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,092 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.073096], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,093 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.07309578]
2025-09-22 10:30:41,093 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.25
2025-09-22 10:30:41,093 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,093 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,095 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,095 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,096 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,097 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,097 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,098 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,099 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,099 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,101 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,104 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,116 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,117 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,118 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,120 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,131 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,131 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,132 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,135 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,146 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,146 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,147 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,148 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,148 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,148 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.134237], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,148 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.13423689]
2025-09-22 10:30:41,148 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:41,148 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,149 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,150 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,150 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,152 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,152 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,152 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,153 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,154 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,154 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,154 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,157 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,168 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,169 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,169 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,172 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,184 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,184 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,185 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,188 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,198 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,199 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,199 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,199 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,199 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,200 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 21611.8345, Frequency: -30.0000, Total: 21581.8345, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,200 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,200 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,200 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:41,200 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.33
2025-09-22 10:30:41,201 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,201 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,203 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,203 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,204 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,205 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,205 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,206 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($21632.33 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,206 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,207 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,207 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,210 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,221 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,222 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,223 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,225 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,235 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,236 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,237 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,239 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,249 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,250 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,250 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,251 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,251 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:41,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 43223.6689, Frequency: -30.0000, Total: 43193.6689, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,254 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:41,255 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.17
2025-09-22 10:30:41,255 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,255 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 16 (8W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,257 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 16 (8W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,257 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,257 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,258 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,259 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,259 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,260 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,260 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,260 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41,260 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41,260 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,261 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,261 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,261 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,264 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,277 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,278 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,278 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,282 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,294 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,295 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,296 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,299 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,312 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,313 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,313 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,313 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,314 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,314 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 32417.7517, Frequency: -30.0000, Total: 32387.7517, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,314 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,314 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.059296], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,315 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.05929625]
2025-09-22 10:30:41,315 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.25
2025-09-22 10:30:41,315 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,315 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,318 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,319 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,319 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,321 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,321 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,321 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,322 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,325 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,338 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,339 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,340 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,343 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,355 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,356 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,357 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,360 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,373 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,373 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,374 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,374 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,374 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,374 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,374 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,375 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.14008], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,375 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.1400804]
2025-09-22 10:30:41,375 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:41,375 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,375 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,377 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,377 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,379 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,379 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,379 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,380 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,381 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,381 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,382 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,385 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,396 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,397 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,398 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,401 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,413 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,413 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,414 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,417 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,430 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,430 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,431 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 21611.8345, Frequency: -26.0000, Total: 21585.8345, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,432 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,433 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.376672], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,433 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.376672]
2025-09-22 10:30:41,433 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 21632.32
2025-09-22 10:30:41,433 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,433 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,435 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,435 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,436 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,437 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,437 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,438 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,438 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,439 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,439 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,442 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,452 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,453 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,453 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,456 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,466 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,467 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,468 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,470 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,480 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,481 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,481 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,485 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:41,485 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 43244.17 USDT
2025-09-22 10:30:41,485 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 43244.17 USDT
2025-09-22 10:30:41,485 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,485 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 43223.6689, Frequency: -26.0000, Total: 43197.6689, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,485 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.374903], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,486 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.37490287]
2025-09-22 10:30:41,486 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.16
2025-09-22 10:30:41,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:41,487 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 48647.13 USDT | Équité: 43244.17 USDT
2025-09-22 10:30:41,488 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 48647.13 USDT | Équité: 43244.17 USDT
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 18, Wins: 9, Losses: 0, Neutral: 9
2025-09-22 10:30:41,488 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 18, Wins: 9, Losses: 0, Neutral: 9
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:41,488 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 18 (9W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,489 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 18 (9W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1216.18 USDT (0.0%/2.5%), Équité: 48647.13 USDT, Cash: 48647.13 USDT, Solde dispo: 48647.13 USDT
2025-09-22 10:30:41,489 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1216.18 USDT (0.0%/2.5%), Équité: 48647.13 USDT, Cash: 48647.13 USDT, Solde dispo: 48647.13 USDT
2025-09-22 10:30:41,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:41,489 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,489 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,490 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,491 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,491 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,492 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,493 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,493 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41,493 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41,493 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,494 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,494 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,495 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,498 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,511 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,512 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,513 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,516 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,530 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,531 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,532 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,535 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,548 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,548 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,549 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,549 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,549 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,550 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,550 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 32417.7517, Frequency: -26.0000, Total: 32391.7517, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,550 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,551 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.354747], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,551 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.35474712]
2025-09-22 10:30:41,551 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.24
2025-09-22 10:30:41,551 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,551 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,553 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,554 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,555 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,555 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,555 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,557 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,557 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,557 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,558 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,561 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,572 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,573 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,574 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,577 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,587 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,588 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,589 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,591 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,602 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,603 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,603 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,603 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 37820.7103, Frequency: -26.0000, Total: 37794.7103, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,605 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,605 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:41,605 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.20
2025-09-22 10:30:41,605 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,605 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,607 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,607 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,609 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,610 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,610 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,611 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,612 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,612 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,612 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,615 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,625 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,626 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,627 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,630 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,641 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,641 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,642 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,645 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,655 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,656 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,656 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,656 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,656 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 27014.7931, Frequency: -30.0000, Total: 26984.7931, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 27035.29
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,657 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,659 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,659 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,660 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,661 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,661 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,662 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($27035.29 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,662 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,663 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,663 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,666 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,676 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,676 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,677 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,680 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,689 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,690 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,690 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,693 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,703 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,704 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,704 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,704 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,704 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,707 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:41,708 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 48647.13 USDT
2025-09-22 10:30:41,708 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 48647.13 USDT
2025-09-22 10:30:41,708 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,708 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 48626.6275, Frequency: -26.0000, Total: 48600.6275, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,708 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,708 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.993434], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,709 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.99343354]
2025-09-22 10:30:41,709 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 48647.12
2025-09-22 10:30:41,709 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,709 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:41,710 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 54050.09 USDT | Équité: 48647.13 USDT
2025-09-22 10:30:41,711 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 54050.09 USDT | Équité: 48647.13 USDT
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 20, Wins: 10, Losses: 0, Neutral: 10
2025-09-22 10:30:41,712 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 20, Wins: 10, Losses: 0, Neutral: 10
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:41,712 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,713 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1351.25 USDT (0.0%/2.5%), Équité: 54050.09 USDT, Cash: 54050.09 USDT, Solde dispo: 54050.09 USDT
2025-09-22 10:30:41,713 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1351.25 USDT (0.0%/2.5%), Équité: 54050.09 USDT, Cash: 54050.09 USDT, Solde dispo: 54050.09 USDT
2025-09-22 10:30:41,713 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:41,713 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,713 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,715 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,715 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,715 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,716 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,716 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,717 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41,717 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41,717 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,717 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,717 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,718 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,721 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,734 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,735 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,736 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,739 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,751 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,752 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,753 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,756 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,768 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,769 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,769 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,769 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,769 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,770 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,770 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 37820.7103, Frequency: -26.0000, Total: 37794.7103, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,770 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,770 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.545866], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,771 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.5458665]
2025-09-22 10:30:41,771 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.20
2025-09-22 10:30:41,771 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,771 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,773 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,773 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,774 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,775 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,775 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,776 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,776 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,777 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,777 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,780 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,791 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,792 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,793 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,796 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,806 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,807 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,808 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,810 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,822 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,823 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,823 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,823 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,823 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,824 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 43223.6689, Frequency: -30.0000, Total: 43193.6689, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,824 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,824 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.314895], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,824 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.31489462]
2025-09-22 10:30:41,824 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.17
2025-09-22 10:30:41,824 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,825 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,827 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,827 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,828 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,829 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,829 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,830 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,830 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,831 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,831 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,835 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,852 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,853 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,854 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,859 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,870 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,871 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,871 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,874 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,884 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,884 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,885 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,885 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,885 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,886 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:41,886 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 27014.7931, Frequency: -26.0000, Total: 26988.7931, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:41,886 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:41,886 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,886 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:41,887 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 27035.28
2025-09-22 10:30:41,887 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,887 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41,889 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,889 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,890 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,890 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,890 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,891 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,892 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,892 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,893 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,896 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,906 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,906 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,907 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,910 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,920 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,921 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,922 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,924 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,935 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,936 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,936 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,937 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,937 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:41,940 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:41,940 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:41,940 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:41,940 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:41,940 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:41,940 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:41,941 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,941 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,943 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:41,943 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:41,943 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:41 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,944 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,945 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41,945 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:41 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,946 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:41,946 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,947 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41,947 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:41,947 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:41,947 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41,947 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,948 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,951 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41,964 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41,965 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,965 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,968 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41,981 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41,982 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41,982 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41,985 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41,998 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41,998 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:41 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,999 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:41,999 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:41,999 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,000 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:42,000 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 43223.6689, Frequency: -26.0000, Total: 43197.6689, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:42,000 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:42,000 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.646697], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,000 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.6466968]
2025-09-22 10:30:42,001 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.16
2025-09-22 10:30:42,001 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,001 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,003 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,003 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,004 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,005 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,005 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,006 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,006 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,007 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,007 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,010 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,021 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,023 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,023 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,026 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,037 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,039 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,039 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,042 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,054 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,055 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,055 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,055 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,055 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,056 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 43223.6689, Frequency: -30.0000, Total: 43193.6689, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,056 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,056 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.423376], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,056 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.42337644]
2025-09-22 10:30:42,056 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.17
2025-09-22 10:30:42,056 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,057 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,058 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,058 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,059 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,060 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,060 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,061 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,062 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,062 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,063 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,065 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,077 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,078 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,079 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,081 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,092 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,092 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,093 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,095 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,106 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,106 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,107 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,107 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,107 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,107 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 32417.7517, Frequency: -30.0000, Total: 32387.7517, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,108 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,108 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.667099], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,108 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.6670988]
2025-09-22 10:30:42,108 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.25
2025-09-22 10:30:42,108 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,108 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,110 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,110 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,112 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,112 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,112 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,113 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($32438.25 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,113 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,114 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,114 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,117 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,127 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,128 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,129 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,132 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,142 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,143 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,144 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,146 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,156 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,157 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,157 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,157 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,157 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,160 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.540735], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.54073465]
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,161 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,164 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,164 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,164 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,165 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,166 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,166 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,167 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,167 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,167 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42,167 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42,168 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,168 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,168 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,168 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,171 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,185 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,185 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,186 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,189 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,202 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,203 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,203 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,206 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,218 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,219 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,220 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,220 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,220 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,221 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:42,221 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 48626.6275, Frequency: -26.0000, Total: 48600.6275, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:42,221 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:42,221 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.599058], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,221 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.5990582]
2025-09-22 10:30:42,221 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 48647.12
2025-09-22 10:30:42,222 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,222 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,224 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,224 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,226 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,226 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,226 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,228 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,228 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,229 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,230 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,233 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,244 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,245 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,246 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,249 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,262 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,262 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,263 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,266 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,276 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,277 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,277 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,277 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,277 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,278 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:42,278 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 43223.6689, Frequency: -26.0000, Total: 43197.6689, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:42,278 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:42,278 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,279 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:42,279 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.16
2025-09-22 10:30:42,279 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,279 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,281 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,281 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,282 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,282 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,283 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,284 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,284 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,284 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,285 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,288 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,298 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,299 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,300 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,302 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,314 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,315 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,315 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,318 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,330 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,332 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,333 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,333 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,333 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,334 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:42,334 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 32417.7517, Frequency: -26.0000, Total: 32391.7517, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:42,334 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:42,334 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.718329], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,334 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.718329]
2025-09-22 10:30:42,334 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 32438.24
2025-09-22 10:30:42,335 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,335 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,338 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,338 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,339 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,340 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,340 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,341 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,342 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,342 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,343 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,346 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,357 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,358 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,358 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,361 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,372 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,373 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,373 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,376 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,387 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,388 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,388 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,388 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,388 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,391 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:42,392 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,392 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,392 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.575342], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,392 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.5753425]
2025-09-22 10:30:42,392 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:42,393 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,393 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,395 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,395 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,395 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,397 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,397 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,397 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,398 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,398 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,399 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42,399 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42,399 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,399 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,399 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,400 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,402 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,414 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,415 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,416 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,419 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,434 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,434 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,435 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,438 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,450 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,452 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,452 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,452 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,453 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,453 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,453 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,453 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.46549], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,454 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.46548972]
2025-09-22 10:30:42,454 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:42,454 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,454 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,456 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,456 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,458 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,458 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,458 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,460 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,460 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,461 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,461 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,464 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,475 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,476 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,477 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,479 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,490 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,491 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,492 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,495 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,505 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,506 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,507 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,507 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,507 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,507 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 48626.6275, Frequency: -30.0000, Total: 48596.6275, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,507 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,508 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.138783], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,508 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.1387826]
2025-09-22 10:30:42,508 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 48647.13
2025-09-22 10:30:42,508 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,508 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,510 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,510 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,511 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,511 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,512 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,513 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,513 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,513 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,514 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,516 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,528 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,528 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,529 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,531 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,543 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,544 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,544 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,547 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,558 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,559 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,560 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,560 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,560 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,560 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,560 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,560 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,561 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:42,561 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:42,561 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,561 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,563 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,563 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,564 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,565 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,565 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,566 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,566 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,566 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,567 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,570 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,580 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,581 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,581 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,584 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,594 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,595 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,596 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,599 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,609 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,609 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,610 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,610 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,610 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,613 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:42,613 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,613 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,614 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,614 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:42,614 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:42,614 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,614 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,616 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,617 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,617 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,618 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,618 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,618 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,620 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,620 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,620 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42,620 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42,620 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,621 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,621 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,621 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,624 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,637 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,638 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,640 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,643 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,656 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,657 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,658 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,661 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,673 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,674 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,675 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,675 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,675 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,676 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:42,676 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 54029.5861, Frequency: -26.0000, Total: 54003.5861, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:42,676 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:42,676 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.627074], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,676 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.62707424]
2025-09-22 10:30:42,677 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.08
2025-09-22 10:30:42,677 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,677 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,679 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,679 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,681 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,681 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,681 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,682 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,683 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,683 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,684 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,687 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,698 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,699 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,700 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,702 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,713 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,713 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,714 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,717 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,728 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,728 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,729 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,729 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,729 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 48626.6275, Frequency: -30.0000, Total: 48596.6275, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 48647.13
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,730 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,732 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,732 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,733 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,734 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,734 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,735 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,735 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,735 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,736 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,738 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,750 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,750 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,751 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,753 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,764 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,765 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,766 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,768 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,778 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,779 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,779 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,779 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,779 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.10784], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.1078398]
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,780 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,782 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,782 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,783 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,784 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,784 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,785 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,785 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,785 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,786 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,788 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,798 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,799 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,799 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,802 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,812 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,812 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,813 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,816 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,825 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,826 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,827 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,827 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,827 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,830 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:42,830 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,830 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,830 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.249337], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,831 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.24933667]
2025-09-22 10:30:42,831 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:42,831 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,831 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 20, Wins: 10, Losses: 0, Neutral: 10
2025-09-22 10:30:42,832 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 20, Wins: 10, Losses: 0, Neutral: 10
2025-09-22 10:30:42 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:42,832 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:42 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42,833 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1351.25 USDT (0.0%/2.5%), Équité: 54050.09 USDT, Cash: 54050.09 USDT, Solde dispo: 54050.09 USDT
2025-09-22 10:30:42,833 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1351.25 USDT (0.0%/2.5%), Équité: 54050.09 USDT, Cash: 54050.09 USDT, Solde dispo: 54050.09 USDT
2025-09-22 10:30:42,833 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,833 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,835 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,835 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,835 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,836 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,836 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,837 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42,837 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42,837 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:42,837 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,837 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,838 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,840 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,854 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,855 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,856 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,861 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,882 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,883 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,884 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,888 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,901 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,902 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,902 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,902 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,902 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,903 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:42,903 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:42,903 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.168578], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,903 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.1685775]
2025-09-22 10:30:42,903 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:42,904 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,904 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,906 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,906 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,907 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,907 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,908 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,909 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,909 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,910 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,910 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,913 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,924 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,925 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,925 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,928 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,939 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,940 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,940 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,943 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42,953 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42,955 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,955 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:42,955 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:42,955 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:42,956 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:42,956 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 48626.6275, Frequency: -26.0000, Total: 48600.6275, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:42,956 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:42,956 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:42,957 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:42,957 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 48647.12
2025-09-22 10:30:42,957 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,957 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42,959 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:42,959 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:42 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,960 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,961 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42,961 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:42 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,962 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:42,962 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42,963 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,964 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,966 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42,976 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42,977 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,978 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,980 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42,990 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42,991 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42,992 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:42 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:42,994 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,005 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,005 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,006 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,006 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,006 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,006 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,006 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,007 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.306131], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,007 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.3061306]
2025-09-22 10:30:43,007 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:43,007 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,007 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,009 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,009 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,010 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,011 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,011 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,012 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,013 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,013 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,013 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,016 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,026 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,027 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,027 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,030 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,040 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,041 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,041 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,045 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,055 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,056 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,056 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,057 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,057 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:43,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,060 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.176865], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.17686503]
2025-09-22 10:30:43,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:43,061 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,061 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,063 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 20 (10W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,063 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,063 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,064 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,065 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,065 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,066 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,067 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,067 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43,067 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43,067 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,067 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,067 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,068 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,072 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,085 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,086 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,086 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,089 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,102 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,103 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,104 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,107 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,119 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,119 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,120 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,120 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,120 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,121 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:43,121 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 59432.5447, Frequency: -26.0000, Total: 59406.5447, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:43,121 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:43,121 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,122 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:43,122 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.03
2025-09-22 10:30:43,122 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,122 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,124 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,124 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,126 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,126 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,126 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,128 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,128 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,129 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,129 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,132 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,143 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,144 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,144 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,147 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,158 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,159 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,160 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,163 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,174 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,175 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,175 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,175 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,175 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.247528], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.24752799]
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,176 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,178 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,179 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,180 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,180 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,180 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,181 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,182 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,182 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,183 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,185 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,196 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,197 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,197 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,200 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,210 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,210 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,211 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,213 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,224 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,224 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,225 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,225 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,225 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,225 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,225 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,226 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.706377], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,226 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.7063766]
2025-09-22 10:30:43,226 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:43,226 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,226 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,228 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,228 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,229 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,230 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,230 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,231 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,231 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,231 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,232 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,234 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,244 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,245 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,246 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,248 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,260 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,261 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,262 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,264 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,280 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,281 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,281 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,281 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,282 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,286 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:43,286 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 54050.09 USDT
2025-09-22 10:30:43,286 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 54050.09 USDT
2025-09-22 10:30:43,287 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:43,287 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 54029.5861, Frequency: -26.0000, Total: 54003.5861, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:43,287 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:43,287 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,287 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:43,288 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.08
2025-09-22 10:30:43,288 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,288 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:43,289 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 59453.04 USDT | Équité: 54050.09 USDT
2025-09-22 10:30:43,289 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 59453.04 USDT | Équité: 54050.09 USDT
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 22, Wins: 11, Losses: 0, Neutral: 11
2025-09-22 10:30:43,290 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 22, Wins: 11, Losses: 0, Neutral: 11
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:43,290 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 22 (11W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,291 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 22 (11W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1486.33 USDT (0.0%/2.5%), Équité: 59453.04 USDT, Cash: 59453.04 USDT, Solde dispo: 59453.04 USDT
2025-09-22 10:30:43,291 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1486.33 USDT (0.0%/2.5%), Équité: 59453.04 USDT, Cash: 59453.04 USDT, Solde dispo: 59453.04 USDT
2025-09-22 10:30:43,291 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:43,291 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,291 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,293 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,293 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,293 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,295 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,295 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,295 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43,295 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43,295 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,296 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,296 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,296 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,299 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,317 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,318 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,319 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,323 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,342 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,343 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,344 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,348 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,361 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,363 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,364 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,364 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,364 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 64835.5034, Frequency: -26.0000, Total: 64809.5034, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 64855.99
2025-09-22 10:30:43,365 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,366 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,368 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,368 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,370 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,370 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,370 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,371 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,372 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,372 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,373 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,377 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,389 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,390 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,391 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,394 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,406 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,406 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,407 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,410 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,422 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,422 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,423 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,423 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,423 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,424 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.079692], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.07969151]
2025-09-22 10:30:43,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:43,424 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,425 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,427 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,427 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,428 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,428 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,428 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,429 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,430 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,430 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,433 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,443 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,444 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,444 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,447 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,457 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,458 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,458 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,461 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,472 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,473 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,474 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,474 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,474 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,474 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 37820.7103, Frequency: -30.0000, Total: 37790.7103, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,474 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,474 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.216164], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.21616401]
2025-09-22 10:30:43,475 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.21
2025-09-22 10:30:43,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,475 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,477 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,477 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,478 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,478 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,479 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,480 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($37841.21 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,480 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,480 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,481 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,484 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,494 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,495 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,496 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,498 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,508 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,509 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,510 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,512 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,522 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,523 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,524 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,524 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,524 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,528 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:43,528 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 59453.04 USDT
2025-09-22 10:30:43,528 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 59453.04 USDT
2025-09-22 10:30:43,529 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:43,529 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 59432.5447, Frequency: -26.0000, Total: 59406.5447, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:43,529 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:43,529 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.983554], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,530 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.9835543]
2025-09-22 10:30:43,530 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.03
2025-09-22 10:30:43,530 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,530 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:43,531 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 64856.00 USDT | Équité: 59453.04 USDT
2025-09-22 10:30:43,531 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 64856.00 USDT | Équité: 59453.04 USDT
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 24, Wins: 12, Losses: 0, Neutral: 12
2025-09-22 10:30:43,532 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 24, Wins: 12, Losses: 0, Neutral: 12
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:43,532 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 24 (12W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,533 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 24 (12W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1621.40 USDT (0.0%/2.5%), Équité: 64856.00 USDT, Cash: 64856.00 USDT, Solde dispo: 64856.00 USDT
2025-09-22 10:30:43,533 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1621.40 USDT (0.0%/2.5%), Équité: 64856.00 USDT, Cash: 64856.00 USDT, Solde dispo: 64856.00 USDT
2025-09-22 10:30:43,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:43,533 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,533 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,534 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,535 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,535 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,536 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,536 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,537 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,538 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,541 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,553 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,553 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,554 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,557 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,572 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,572 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,573 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,577 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,589 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,589 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,590 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,590 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,590 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,591 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 70238.4620, Frequency: -30.0000, Total: 70208.4620, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,591 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,591 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.663516], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,591 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.66351557]
2025-09-22 10:30:43,592 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.96
2025-09-22 10:30:43,592 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,592 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,594 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,594 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,596 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,596 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,596 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,597 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,598 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,598 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,599 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,602 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,613 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,614 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,614 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,617 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,629 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,630 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,631 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,633 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,643 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,644 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,645 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,645 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,645 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,646 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:43,646 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:43,646 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,646 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,648 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,648 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,649 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,650 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,650 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,651 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,651 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,651 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,652 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,655 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,666 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,666 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,667 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,670 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,680 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,681 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,682 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,684 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,696 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,697 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,697 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,697 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,697 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,698 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:43,698 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 37820.7103, Frequency: -26.0000, Total: 37794.7103, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:43,698 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:43,698 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.773304], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,699 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.77330416]
2025-09-22 10:30:43,699 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 37841.20
2025-09-22 10:30:43,699 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,699 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,701 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,701 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,702 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,703 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,703 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,704 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,704 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,704 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,705 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,707 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,717 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,718 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,719 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,721 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,733 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,733 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,734 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,736 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,747 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,747 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,748 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,748 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,748 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,751 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:43,751 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 64856.00 USDT
2025-09-22 10:30:43,751 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 64856.00 USDT
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 64835.5034, Frequency: -26.0000, Total: 64809.5034, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 64855.99
2025-09-22 10:30:43,752 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,753 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:43,754 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 70258.96 USDT | Équité: 64856.00 USDT
2025-09-22 10:30:43,754 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 70258.96 USDT | Équité: 64856.00 USDT
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 26, Wins: 13, Losses: 0, Neutral: 13
2025-09-22 10:30:43,754 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 26, Wins: 13, Losses: 0, Neutral: 13
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:43,755 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,755 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1756.47 USDT (0.0%/2.5%), Équité: 70258.96 USDT, Cash: 70258.96 USDT, Solde dispo: 70258.96 USDT
2025-09-22 10:30:43,755 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1756.47 USDT (0.0%/2.5%), Équité: 70258.96 USDT, Cash: 70258.96 USDT, Solde dispo: 70258.96 USDT
2025-09-22 10:30:43,756 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:43,756 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,756 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,757 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,757 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,757 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,759 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,759 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,759 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43,759 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43,759 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,760 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,760 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,760 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,763 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,777 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,777 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,778 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,782 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,793 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,794 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,795 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,799 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,810 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,811 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,811 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,811 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,811 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,812 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 70238.4620, Frequency: -30.0000, Total: 70208.4620, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,812 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,812 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.220188], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,812 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.22018752]
2025-09-22 10:30:43,812 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.96
2025-09-22 10:30:43,813 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,813 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,815 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,815 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,816 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,816 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,816 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,818 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,818 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,819 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,820 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,824 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,838 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,839 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,840 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,842 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,857 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,858 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,859 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,863 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,873 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,874 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,874 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,875 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,875 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,875 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,875 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.47609], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,876 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.4760904]
2025-09-22 10:30:43,876 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:43,876 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,876 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,879 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,880 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,881 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,881 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,881 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,883 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,883 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,884 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,884 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,887 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,899 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,900 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,900 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,903 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,914 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,915 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,915 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,918 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,928 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,929 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,929 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,929 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,929 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,930 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 43223.6689, Frequency: -30.0000, Total: 43193.6689, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,930 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,930 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.207097], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,930 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.20709716]
2025-09-22 10:30:43,930 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.17
2025-09-22 10:30:43,930 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,931 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43,932 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,932 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,933 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,934 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,934 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,935 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,935 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,936 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,936 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,939 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43,950 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43,950 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,951 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,954 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43,964 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43,964 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,965 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,967 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43,978 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43,978 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,980 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:43,980 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:43,980 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:43,983 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:43,983 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 70238.4620, Frequency: -30.0000, Total: 70208.4620, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:43,983 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:43,984 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.346479], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:43,984 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.34647894]
2025-09-22 10:30:43,984 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.96
2025-09-22 10:30:43,984 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,984 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,986 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:43,987 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:43,987 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:43 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,988 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,988 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43,988 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:43 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,989 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:43,989 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,990 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43,990 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:43,990 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:43,990 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43,990 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43,991 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:43 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:43,994 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,007 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,008 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,009 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,012 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,025 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,026 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,027 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,030 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,041 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,042 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,043 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,043 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,043 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,044 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,044 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 70238.4620, Frequency: -26.0000, Total: 70212.4620, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,044 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,044 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.855168], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,044 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.85516816]
2025-09-22 10:30:44,045 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.95
2025-09-22 10:30:44,045 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,045 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,047 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,047 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,048 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,049 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,049 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,050 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,050 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,051 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,051 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,054 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,066 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,067 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,067 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,070 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,081 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,082 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,083 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,086 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,097 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,098 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,099 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,099 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,099 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,099 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 54029.5861, Frequency: -30.0000, Total: 53999.5861, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,099 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,099 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.605782], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,100 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.6057823]
2025-09-22 10:30:44,100 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.09
2025-09-22 10:30:44,100 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,100 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,102 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,102 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,103 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,104 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,104 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,105 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,105 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,105 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,106 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,109 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,119 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,119 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,120 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,122 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,133 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,134 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,135 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,137 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,147 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,148 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,148 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,149 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,149 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,149 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 43223.6689, Frequency: -30.0000, Total: 43193.6689, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,149 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,149 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,150 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:44,150 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.17
2025-09-22 10:30:44,150 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,150 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,152 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,152 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,153 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,153 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,153 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,154 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($43244.17 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,155 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,155 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,156 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,159 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,170 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,171 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,171 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,174 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,184 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,185 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,186 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,189 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,198 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,199 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,200 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,200 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,200 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:44,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 70238.4620, Frequency: -30.0000, Total: 70208.4620, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,203 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.022895], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.02289455]
2025-09-22 10:30:44,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.96
2025-09-22 10:30:44,204 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,204 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,206 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,206 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,206 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,207 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,208 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,208 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,209 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,209 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,209 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44,209 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44,210 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,210 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,210 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,210 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,213 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,225 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,226 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,227 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,230 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,243 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,243 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,244 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,247 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,259 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,260 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,260 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,260 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,261 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,261 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,261 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 75641.4206, Frequency: -26.0000, Total: 75615.4206, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,262 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,262 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,262 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:44,262 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.91
2025-09-22 10:30:44,262 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,262 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,265 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,265 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,266 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,267 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,267 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,268 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,268 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,269 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,269 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,272 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,283 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,284 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,284 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,288 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,299 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,300 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,301 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,303 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,314 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,315 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,316 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,316 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,316 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 54029.5861, Frequency: -26.0000, Total: 54003.5861, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.850236], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.8502364]
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.08
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,320 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,320 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,321 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,321 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,322 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,323 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,323 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,323 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,324 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,327 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,339 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,340 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,340 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,343 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,354 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,355 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,356 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,359 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,369 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,369 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,370 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 43223.6689, Frequency: -26.0000, Total: 43197.6689, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,371 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,372 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:44,372 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 43244.16
2025-09-22 10:30:44,372 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,372 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,374 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,374 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,375 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,376 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,376 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,377 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($48647.13 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,377 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,378 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,378 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,381 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,391 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,392 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,393 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,395 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,405 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,406 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,407 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,409 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,419 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,419 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,420 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,420 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,420 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,423 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 70238.4620, Frequency: -30.0000, Total: 70208.4620, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.318096], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.31809634]
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.96
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,424 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,427 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 26 (13W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,427 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,427 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,429 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,429 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,429 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,430 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,431 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,431 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,432 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,434 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,446 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,447 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,448 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,451 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,464 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,465 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,466 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,468 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,480 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,481 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,481 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 81044.3792, Frequency: -26.0000, Total: 81018.3792, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,482 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,483 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,483 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:44,483 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.87
2025-09-22 10:30:44,483 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,483 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,486 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,487 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,487 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,488 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,489 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,490 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,491 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,495 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,506 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,507 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,507 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,510 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,520 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,521 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,522 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,524 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,535 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,536 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,536 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,536 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,536 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,537 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:44,537 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:44,537 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,538 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,539 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,540 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,541 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,541 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,541 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,542 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,543 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,543 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,543 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,546 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,556 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,557 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,557 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,560 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,570 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,571 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,572 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,574 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,584 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,585 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,586 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 48626.6275, Frequency: -26.0000, Total: 48600.6275, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,586 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,587 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.690647], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.6906465]
2025-09-22 10:30:44,587 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 48647.12
2025-09-22 10:30:44,587 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,587 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,589 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,589 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,590 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,591 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,591 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,592 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($54050.09 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,593 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,593 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,594 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,597 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,607 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,608 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,609 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,611 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,621 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,622 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,622 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,625 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,635 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,636 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,636 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,636 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,636 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,639 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:44,639 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 70258.96 USDT
2025-09-22 10:30:44,639 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 70258.96 USDT
2025-09-22 10:30:44,640 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,640 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 70238.4620, Frequency: -26.0000, Total: 70212.4620, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,640 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,640 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.729812], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,640 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.72981167]
2025-09-22 10:30:44,640 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.95
2025-09-22 10:30:44,641 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,641 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:44,642 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 75661.92 USDT | Équité: 70258.96 USDT
2025-09-22 10:30:44,642 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 75661.92 USDT | Équité: 70258.96 USDT
2025-09-22 10:30:44 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 28, Wins: 14, Losses: 0, Neutral: 14
2025-09-22 10:30:44,643 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 28, Wins: 14, Losses: 0, Neutral: 14
2025-09-22 10:30:44 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:44,643 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:44 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 28 (14W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,643 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 28 (14W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1891.55 USDT (0.0%/2.5%), Équité: 75661.92 USDT, Cash: 75661.92 USDT, Solde dispo: 75661.92 USDT
2025-09-22 10:30:44,643 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/1891.55 USDT (0.0%/2.5%), Équité: 75661.92 USDT, Cash: 75661.92 USDT, Solde dispo: 75661.92 USDT
2025-09-22 10:30:44,644 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:44,644 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,644 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,645 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,645 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,645 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,647 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,648 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,648 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,651 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,663 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,664 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,665 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,668 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,680 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,681 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,682 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,685 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,699 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,700 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,700 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,700 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,701 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,701 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 86447.3378, Frequency: -30.0000, Total: 86417.3378, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,701 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,701 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.362285], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.36228523]
2025-09-22 10:30:44,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.84
2025-09-22 10:30:44,702 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,702 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,704 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,704 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,705 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,706 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,706 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,707 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,708 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,708 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,708 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,711 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,722 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,723 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,723 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,726 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,736 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,737 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,738 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,740 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,751 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,752 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,752 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,753 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.725613], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,753 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.7256135]
2025-09-22 10:30:44,754 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:44,754 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,754 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,756 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,756 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,757 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,757 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,757 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,758 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,759 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,759 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,760 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,762 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,772 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,773 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,774 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,777 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,792 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,793 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,794 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,798 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,813 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,814 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,814 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,814 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,814 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,815 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,815 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 54029.5861, Frequency: -26.0000, Total: 54003.5861, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,815 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,816 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,816 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:44,816 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 54050.08
2025-09-22 10:30:44,816 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,816 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,819 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,819 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,821 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,821 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,822 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,823 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,824 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,824 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,825 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,829 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,841 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,841 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,842 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,845 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,855 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,856 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,856 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,859 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,869 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,869 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,870 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,870 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,870 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,873 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:44,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,874 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.264802], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.26480153]
2025-09-22 10:30:44,874 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:44,875 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,875 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 28 (14W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,877 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 28 (14W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:44,878 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,878 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,880 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,882 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,882 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,887 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,887 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,888 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44,888 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44,889 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:44,889 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,889 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,892 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,895 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,911 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,911 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,912 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,915 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,926 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,926 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,927 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,929 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,940 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,941 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,941 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,941 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,942 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,942 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 86447.3378, Frequency: -30.0000, Total: 86417.3378, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:44,942 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:44,942 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.335695], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,942 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.33569533]
2025-09-22 10:30:44,943 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.84
2025-09-22 10:30:44,943 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,943 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,945 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,945 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,946 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,947 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,947 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,948 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,948 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,948 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,949 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,952 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44,962 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44,962 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,963 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,965 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44,976 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44,976 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,977 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44,979 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44,989 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44,990 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,990 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:44,990 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:44,991 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:44,991 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:44,991 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 59432.5447, Frequency: -26.0000, Total: 59406.5447, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:44,991 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:44,991 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:44,992 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:44,992 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.03
2025-09-22 10:30:44,992 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,992 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44,994 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:44,994 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:44 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,995 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,996 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44,996 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:44 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,997 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:44,997 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44,998 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:44 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:44,998 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,000 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,011 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,013 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,013 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,016 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,025 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,026 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,027 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,029 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,039 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,040 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,040 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,040 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,041 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,041 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,041 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,041 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.024322], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,041 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.02432167]
2025-09-22 10:30:45,041 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:45,042 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,042 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,044 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,044 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,045 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,045 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,045 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,046 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,047 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,047 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,047 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,050 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,059 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,060 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,060 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,063 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,073 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,074 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,075 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,077 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,087 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,087 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,088 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,088 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,088 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,091 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:45,092 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 75661.92 USDT
2025-09-22 10:30:45,092 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 75661.92 USDT
2025-09-22 10:30:45,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 75641.4206, Frequency: -26.0000, Total: 75615.4206, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,092 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.658592], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,093 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.65859234]
2025-09-22 10:30:45,093 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.91
2025-09-22 10:30:45,093 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,093 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:45,094 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 81064.88 USDT | Équité: 75661.92 USDT
2025-09-22 10:30:45,094 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 81064.88 USDT | Équité: 75661.92 USDT
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 30, Wins: 15, Losses: 0, Neutral: 15
2025-09-22 10:30:45,095 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 30, Wins: 15, Losses: 0, Neutral: 15
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:45,095 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 30 (15W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,096 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 30 (15W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2026.62 USDT (0.0%/2.5%), Équité: 81064.88 USDT, Cash: 81064.88 USDT, Solde dispo: 81064.88 USDT
2025-09-22 10:30:45,096 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2026.62 USDT (0.0%/2.5%), Équité: 81064.88 USDT, Cash: 81064.88 USDT, Solde dispo: 81064.88 USDT
2025-09-22 10:30:45,096 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:45,096 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,097 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,098 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,098 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,099 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,100 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,100 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,100 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45,100 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45,100 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,101 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,101 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,101 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,105 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,119 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,120 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,120 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,124 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,136 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,136 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,137 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,140 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,151 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,151 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,152 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,152 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,152 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,153 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,153 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 86447.3378, Frequency: -26.0000, Total: 86421.3378, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,153 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,153 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.448568], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,153 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.44856805]
2025-09-22 10:30:45,154 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.83
2025-09-22 10:30:45,154 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,154 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,159 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,159 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,160 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,161 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,161 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,162 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,162 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,163 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,163 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,166 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,178 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,178 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,179 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,182 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,192 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,192 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,193 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,195 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,206 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,206 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,207 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,207 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,207 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,207 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 64835.5034, Frequency: -26.0000, Total: 64809.5034, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 64855.99
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,208 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,211 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,211 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,212 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,212 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,213 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,214 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,214 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,214 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,216 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,218 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,229 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,230 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,230 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,233 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,243 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,243 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,244 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,247 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,257 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,257 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,258 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,258 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,258 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.712336], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.71233594]
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,259 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,261 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,261 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,263 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,263 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,263 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,264 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,264 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,265 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,265 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,268 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,278 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,278 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,279 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,282 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,292 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,292 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,293 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,295 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,306 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,307 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,308 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,308 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,308 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,311 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:45,311 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 81044.3792, Frequency: -30.0000, Total: 81014.3792, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,311 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,312 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,312 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:45,312 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.88
2025-09-22 10:30:45,312 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,312 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 30 (15W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,315 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 30 (15W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,317 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,318 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,319 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,319 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,320 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,321 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45,321 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45,321 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,321 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,322 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,322 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,326 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,340 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,341 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,342 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,345 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,358 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,359 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,359 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,362 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,374 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,374 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,375 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,375 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,375 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,376 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,376 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,376 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.203422], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,376 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.20342153]
2025-09-22 10:30:45,376 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:45,377 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,377 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,379 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,379 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,380 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,381 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,381 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,382 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,382 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,383 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,383 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,386 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,397 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,398 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,398 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,401 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,412 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,412 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,413 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,416 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,428 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,428 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,429 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,429 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,429 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 70238.4620, Frequency: -26.0000, Total: 70212.4620, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,430 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.338539], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.33853933]
2025-09-22 10:30:45,430 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.95
2025-09-22 10:30:45,431 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,431 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,433 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,433 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,434 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,434 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,434 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,436 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,436 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,436 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,437 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,439 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,450 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,451 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,451 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,454 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,464 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,464 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,465 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,467 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,477 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,478 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,478 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,479 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,479 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,480 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:45,480 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:45,480 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,480 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,482 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,482 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,483 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,483 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,483 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,484 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,484 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,485 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,485 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,488 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,498 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,498 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,499 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,501 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,511 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,512 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,512 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,515 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,526 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,527 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,528 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,528 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,528 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,531 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:45,531 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 81064.88 USDT
2025-09-22 10:30:45,531 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 81064.88 USDT
2025-09-22 10:30:45,532 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,532 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 81044.3792, Frequency: -26.0000, Total: 81018.3792, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,532 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,532 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,532 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:45,533 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.87
2025-09-22 10:30:45,533 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,533 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:45,534 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 86467.84 USDT | Équité: 81064.88 USDT
2025-09-22 10:30:45,534 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 86467.84 USDT | Équité: 81064.88 USDT
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 32, Wins: 16, Losses: 0, Neutral: 16
2025-09-22 10:30:45,535 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 32, Wins: 16, Losses: 0, Neutral: 16
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:45,535 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 32 (16W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,536 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 32 (16W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2161.70 USDT (0.0%/2.5%), Équité: 86467.84 USDT, Cash: 86467.84 USDT, Solde dispo: 86467.84 USDT
2025-09-22 10:30:45,536 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2161.70 USDT (0.0%/2.5%), Équité: 86467.84 USDT, Cash: 86467.84 USDT, Solde dispo: 86467.84 USDT
2025-09-22 10:30:45,536 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:45,536 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,536 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,538 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,538 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,538 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,540 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,540 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,541 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45,541 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45,541 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,541 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,541 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,542 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,545 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,560 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,561 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,561 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,565 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,578 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,579 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,580 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,582 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,594 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,595 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,595 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,596 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.608623], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,597 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.6086228]
2025-09-22 10:30:45,597 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:45,597 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,597 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,599 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,599 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,600 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,601 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,601 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,602 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,602 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,603 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,603 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,606 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,616 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,617 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,618 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,620 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,633 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,633 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,634 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,636 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,646 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,647 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,647 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,648 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,649 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:45,649 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:45,649 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,649 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,651 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,651 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,652 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,652 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,652 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,653 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,654 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,654 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,655 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,657 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,667 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,668 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,669 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,671 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,681 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,682 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,682 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,685 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,695 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,695 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,696 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,696 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,697 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.028227], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,697 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.02822749]
2025-09-22 10:30:45,697 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:45,697 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,697 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,699 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,699 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,700 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,700 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,700 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,701 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,702 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,702 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,703 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,705 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,715 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,716 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,716 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,719 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,729 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,730 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,731 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,734 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,744 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,744 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,745 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,745 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,745 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,748 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:45,749 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 86467.84 USDT
2025-09-22 10:30:45,749 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 86467.84 USDT
2025-09-22 10:30:45,749 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,749 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 86447.3378, Frequency: -26.0000, Total: 86421.3378, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,749 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,750 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.615867], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,750 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.6158672]
2025-09-22 10:30:45,750 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.83
2025-09-22 10:30:45,750 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,750 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:45,751 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 91870.80 USDT | Équité: 86467.84 USDT
2025-09-22 10:30:45,752 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 91870.80 USDT | Équité: 86467.84 USDT
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 34, Wins: 17, Losses: 0, Neutral: 17
2025-09-22 10:30:45,752 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 34, Wins: 17, Losses: 0, Neutral: 17
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:45,753 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,753 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2296.77 USDT (0.0%/2.5%), Équité: 91870.80 USDT, Cash: 91870.80 USDT, Solde dispo: 91870.80 USDT
2025-09-22 10:30:45,754 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2296.77 USDT (0.0%/2.5%), Équité: 91870.80 USDT, Cash: 91870.80 USDT, Solde dispo: 91870.80 USDT
2025-09-22 10:30:45,754 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:45,754 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,754 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,755 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,756 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,756 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,757 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,757 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,758 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45,758 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45,758 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,758 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,758 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,759 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,763 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,776 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,777 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,778 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,782 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,795 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,796 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,797 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,799 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,811 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,812 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,812 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,812 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,813 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,813 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,813 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 91850.2964, Frequency: -26.0000, Total: 91824.2964, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,813 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,814 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.454255], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,814 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.45425463]
2025-09-22 10:30:45,814 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.79
2025-09-22 10:30:45,814 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,814 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,817 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,817 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,818 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,818 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,819 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,820 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,820 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,820 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,821 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,824 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,835 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,837 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,838 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,840 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,851 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,851 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,852 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,855 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,865 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,866 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,866 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,866 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,866 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,867 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:45,867 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 75641.4206, Frequency: -26.0000, Total: 75615.4206, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:45,867 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:45,867 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,867 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:45,868 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.91
2025-09-22 10:30:45,868 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,868 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,870 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,870 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,871 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,871 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,871 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,872 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,873 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,873 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,873 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,876 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,886 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,887 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,888 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,890 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,904 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,905 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,906 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,909 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,919 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,920 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,920 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,920 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,920 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,921 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 59432.5447, Frequency: -30.0000, Total: 59402.5447, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,921 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,921 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.498628], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,921 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.49862817]
2025-09-22 10:30:45,921 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.04
2025-09-22 10:30:45,921 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,922 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45,924 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,924 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,925 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,925 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,925 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,926 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($59453.04 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,927 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,927 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,928 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,931 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45,941 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45,942 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,943 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,946 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45,956 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45,957 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,957 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,960 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45,970 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45,970 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,971 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:45,971 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:45,971 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:45,974 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:45,975 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:45,975 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:45,975 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:45,975 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:45,975 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:45,975 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,976 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,978 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:45,978 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:45,979 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:45 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,980 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,980 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45,981 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:45 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,982 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:45,982 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,982 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45,983 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:45,983 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:45,983 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45,983 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45,984 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:45 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:45,987 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,001 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,002 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,003 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,007 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,020 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,020 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,021 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,024 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,036 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,037 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,037 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,037 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,037 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,038 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 97253.2550, Frequency: -30.0000, Total: 97223.2550, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,038 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,038 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.521662], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,038 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.5216615]
2025-09-22 10:30:46,038 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 97273.76
2025-09-22 10:30:46,039 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,039 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,041 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,041 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,042 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,042 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,043 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,044 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,044 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,045 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,046 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,049 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,060 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,061 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,062 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,065 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,075 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,076 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,077 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,079 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,090 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,090 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,091 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,091 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,091 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,091 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 81044.3792, Frequency: -30.0000, Total: 81014.3792, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,092 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:46,092 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.88
2025-09-22 10:30:46,092 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,092 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,094 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,094 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,096 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,096 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,096 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,097 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,097 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,098 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,098 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,101 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,111 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,112 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,112 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,115 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,125 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,126 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,126 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,129 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,139 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,140 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,140 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,140 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,140 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:46,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 59432.5447, Frequency: -26.0000, Total: 59406.5447, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:46,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:46,141 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.354158], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,141 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.35415792]
2025-09-22 10:30:46,142 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 59453.03
2025-09-22 10:30:46,142 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,142 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,144 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,144 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,145 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,145 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,146 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,147 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($64856.00 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,147 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,147 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,148 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,151 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,162 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,162 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,163 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,165 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,175 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,176 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,176 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,179 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,189 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,190 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,190 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,190 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,191 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,194 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:46,194 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,194 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,195 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.301399], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,195 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.30139926]
2025-09-22 10:30:46,195 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:46,195 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,195 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,198 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,198 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,198 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,199 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,200 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,200 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,201 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,201 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,202 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46,202 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46,202 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,202 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,202 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,203 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,206 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,219 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,220 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,221 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,223 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,237 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,238 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,239 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,244 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,263 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,265 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,266 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,266 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,266 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,266 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 97253.2550, Frequency: -30.0000, Total: 97223.2550, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,267 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,267 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.020264], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,267 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.02026396]
2025-09-22 10:30:46,267 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 97273.76
2025-09-22 10:30:46,267 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,267 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,270 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,270 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,271 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,271 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,272 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,273 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,273 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,273 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,274 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,277 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,288 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,288 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,289 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,292 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,303 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,304 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,304 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,307 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,318 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,319 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,319 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,319 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,319 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 81044.3792, Frequency: -30.0000, Total: 81014.3792, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,320 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.485308], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.4853079]
2025-09-22 10:30:46,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.88
2025-09-22 10:30:46,321 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,321 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,322 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,323 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,324 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,324 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,324 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,325 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,325 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,326 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,326 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,329 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,339 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,339 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,340 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,342 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,352 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,353 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,354 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,356 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,367 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,369 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,369 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,369 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,369 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:46,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 64835.5034, Frequency: -26.0000, Total: 64809.5034, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:46,370 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:46,370 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.347043], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.34704328]
2025-09-22 10:30:46,371 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 64855.99
2025-09-22 10:30:46,371 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,371 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,373 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,373 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,374 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,375 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,375 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,376 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,377 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,377 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,378 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,380 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,392 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,393 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,394 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,397 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,408 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,408 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,409 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,412 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,422 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,423 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,424 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,424 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,427 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:46,427 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,428 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,428 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.24332], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,428 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.24331966]
2025-09-22 10:30:46,428 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:46,428 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,428 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,430 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 34 (17W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,431 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,431 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,432 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,432 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,432 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,433 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,434 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,434 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46,434 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46,434 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,434 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,434 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,435 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,438 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,450 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,451 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,452 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,455 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,468 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,470 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,471 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,474 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,487 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,487 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,488 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,488 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,488 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 97253.2550, Frequency: -30.0000, Total: 97223.2550, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,489 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.342104], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.3421041]
2025-09-22 10:30:46,489 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 97273.76
2025-09-22 10:30:46,489 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,490 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,492 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,492 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,493 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,494 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,494 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,495 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,495 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,496 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,496 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,499 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,511 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,512 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,513 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,516 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,526 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,527 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,528 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,531 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,541 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,542 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,543 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,543 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,543 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,544 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 81044.3792, Frequency: -30.0000, Total: 81014.3792, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,544 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,544 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.551592], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,545 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.55159223]
2025-09-22 10:30:46,545 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.88
2025-09-22 10:30:46,545 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,545 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,547 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,547 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,548 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,549 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,549 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,550 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,550 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,550 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,551 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,554 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,564 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,565 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,565 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,568 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,580 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,581 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,581 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,584 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,594 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,594 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,595 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,595 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,595 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 70238.4620, Frequency: -30.0000, Total: 70208.4620, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.96
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,596 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,598 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,598 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,599 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,600 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,600 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,601 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($70258.96 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,601 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,602 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,602 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,605 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,615 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,615 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,616 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,618 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,628 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,629 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,630 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,632 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,642 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,643 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,643 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,643 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,644 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:46,647 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 91870.80 USDT
2025-09-22 10:30:46,647 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 91870.80 USDT
2025-09-22 10:30:46,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:46,647 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 91850.2964, Frequency: -26.0000, Total: 91824.2964, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:46,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:46,648 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.319006], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.31900582]
2025-09-22 10:30:46,648 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.79
2025-09-22 10:30:46,648 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,648 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:46,650 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 97273.76 USDT | Équité: 91870.80 USDT
2025-09-22 10:30:46,650 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 97273.76 USDT | Équité: 91870.80 USDT
2025-09-22 10:30:46 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 36, Wins: 18, Losses: 0, Neutral: 18
2025-09-22 10:30:46,651 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 36, Wins: 18, Losses: 0, Neutral: 18
2025-09-22 10:30:46 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:46,651 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:46 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 36 (18W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,651 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 36 (18W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2431.84 USDT (0.0%/2.5%), Équité: 97273.76 USDT, Cash: 97273.76 USDT, Solde dispo: 97273.76 USDT
2025-09-22 10:30:46,652 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2431.84 USDT (0.0%/2.5%), Équité: 97273.76 USDT, Cash: 97273.76 USDT, Solde dispo: 97273.76 USDT
2025-09-22 10:30:46,652 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:46,652 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,652 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,653 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,654 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,654 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,655 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,655 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,656 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46,656 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46,656 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,656 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,656 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,657 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,660 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,675 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,676 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,677 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,682 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,696 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,696 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,697 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,700 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,712 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,713 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,713 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,713 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,714 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,714 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:46,714 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 97253.2550, Frequency: -26.0000, Total: 97227.2550, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:46,714 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:46,715 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,715 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:46,715 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 97273.75
2025-09-22 10:30:46,715 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,715 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,717 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,718 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,719 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,719 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,719 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,720 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,721 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,721 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,722 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,724 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,735 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,736 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,737 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,739 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,750 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,750 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,751 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,754 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,765 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,766 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,766 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,766 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,766 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,767 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:46,767 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 81044.3792, Frequency: -26.0000, Total: 81018.3792, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:46,767 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:46,767 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.896983], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,767 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.89698255]
2025-09-22 10:30:46,768 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.87
2025-09-22 10:30:46,768 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,768 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,770 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,770 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,771 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,771 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,772 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,773 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,773 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,773 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,774 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,777 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,788 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,789 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,790 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,793 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,803 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,804 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,804 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,807 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,817 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,817 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,818 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,818 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,818 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,819 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:46,819 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 70238.4620, Frequency: -26.0000, Total: 70212.4620, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:46,819 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:46,819 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,819 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:46,820 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 70258.95
2025-09-22 10:30:46,820 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,820 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,822 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,822 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,823 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,823 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,823 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,824 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,825 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,825 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,826 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,829 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,839 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,839 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,840 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,843 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,853 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,854 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,854 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,857 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,867 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,868 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,868 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,868 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,868 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,871 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:46,871 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 97253.2550, Frequency: -30.0000, Total: 97223.2550, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,871 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,872 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,872 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:46,872 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 97273.76
2025-09-22 10:30:46,872 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,872 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 36 (18W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,874 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 36 (18W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:46,874 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,875 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,876 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,876 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,876 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,877 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($97273.76 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,878 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,878 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46,878 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46,878 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:46,878 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,878 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,880 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,883 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,896 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,898 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,901 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,914 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,914 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,915 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,918 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,931 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,932 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,932 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,932 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,932 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,933 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,933 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,933 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.239653], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,933 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.2396533]
2025-09-22 10:30:46,933 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:46,934 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,934 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,936 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,936 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,937 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,938 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,938 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,939 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,939 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,940 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,940 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,943 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46,954 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46,955 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,955 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,958 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46,968 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46,969 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,969 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,972 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46,983 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46,984 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,984 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:46,984 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:46,985 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:46,985 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 86447.3378, Frequency: -30.0000, Total: 86417.3378, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:46,985 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:46,985 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.239162], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:46,985 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.23916246]
2025-09-22 10:30:46,985 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.84
2025-09-22 10:30:46,986 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,986 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46,988 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:46,988 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:46 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,989 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,989 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46,989 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:46 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,990 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:46,991 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46,991 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46,992 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:46 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:46,995 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,005 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,006 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,006 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,009 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,019 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,020 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,021 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,023 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,033 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,034 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,034 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,034 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,034 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,035 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,035 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,035 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.767646], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,035 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.7676461]
2025-09-22 10:30:47,035 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:47,036 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,036 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,037 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,038 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,039 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,039 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,039 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,040 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,041 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,041 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,041 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,045 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,055 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,056 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,056 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,059 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,069 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,070 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,071 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,073 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,085 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,086 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,086 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,086 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,086 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,089 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:47,089 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION_OPEN] Opening position for BTCUSDT
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 97273.76 USDT
2025-09-22 10:30:47,090 - adan_trading_bot.portfolio.portfolio_manager - INFO - [POSITION OUVERTE] BTCUSDT - Taille: 0.10000000 @ 100.00000000 | Valeur: 10.00 | SL: 95.00000000 | TP: 115.00000000 | Commission: 0.01 | Capital: 97273.76 USDT
2025-09-22 10:30:47,090 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 0] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:47,090 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 97253.2550, Frequency: -26.0000, Total: 97227.2550, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:47,090 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:47,090 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,090 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:47,091 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 97273.75
2025-09-22 10:30:47,091 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,091 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:47,092 - adan_trading_bot.portfolio.portfolio_manager - INFO - TAKE PROFIT triggered for BTCUSDT at 54183.87 (TP price: 104.00)
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 102676.71 USDT | Équité: 97273.76 USDT
2025-09-22 10:30:47,093 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [POSITION FERMÉE] BTCUSDT - Taille: 0.10000000 | Entrée: 100.00000000 | Sortie: 54183.87000000 | PnL: +5402.97 (54083.87%) | Capital: 102676.71 USDT | Équité: 97273.76 USDT
2025-09-22 10:30:47 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 38, Wins: 19, Losses: 0, Neutral: 19
2025-09-22 10:30:47,093 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 38, Wins: 19, Losses: 0, Neutral: 19
2025-09-22 10:30:47 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:47,093 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:47 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,094 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2566.92 USDT (0.0%/2.5%), Équité: 102676.71 USDT, Cash: 102676.71 USDT, Solde dispo: 102676.71 USDT
2025-09-22 10:30:47,094 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2566.92 USDT (0.0%/2.5%), Équité: 102676.71 USDT, Cash: 102676.71 USDT, Solde dispo: 102676.71 USDT
2025-09-22 10:30:47,094 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Position for BTCUSDT was closed during market price update (SL/TP or stale).
2025-09-22 10:30:47,094 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,094 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,096 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,096 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,096 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,097 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,098 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,098 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47,098 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47,098 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,098 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,098 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,099 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,102 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,114 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,115 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,116 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,119 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,132 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,133 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,133 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,136 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,149 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,149 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,150 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,150 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,150 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,151 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:47,151 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 102656.2136, Frequency: -26.0000, Total: 102630.2136, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:47,151 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:47,151 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.310403], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,151 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.31040272]
2025-09-22 10:30:47,151 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.70
2025-09-22 10:30:47,152 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,152 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,154 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,154 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,155 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,156 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,156 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($108079.67 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,157 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($108079.67 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,157 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,158 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,158 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,161 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,172 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,172 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,173 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,176 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,186 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,187 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,188 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,191 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,202 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,203 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,203 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,203 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 86447.3378, Frequency: -30.0000, Total: 86417.3378, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,204 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.162656], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.16265552]
2025-09-22 10:30:47,204 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.84
2025-09-22 10:30:47,205 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,205 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,207 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,207 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,208 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,208 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,208 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,209 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,210 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,210 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,210 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,213 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,223 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,224 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,224 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,228 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,238 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,239 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,239 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,242 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,252 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,253 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,253 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,253 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,253 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,254 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:47,254 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:47,254 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,255 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,256 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,257 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,258 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,258 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,258 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,259 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,260 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,260 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,261 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,264 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,273 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,274 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,274 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,278 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,293 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,294 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,294 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,297 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,311 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,312 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,313 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,314 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,314 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,318 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:47,319 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,319 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,319 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.106775], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.10677456]
2025-09-22 10:30:47,320 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:47,320 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,320 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,324 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,324 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,324 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,326 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,327 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,327 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,330 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,330 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,330 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47,330 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47,331 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,331 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,331 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,332 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,337 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,357 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,359 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,360 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,365 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,381 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,381 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,382 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,386 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,399 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,400 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,401 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,401 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,401 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,401 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 108059.1723, Frequency: -30.0000, Total: 108029.1723, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,401 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,402 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.478491], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,402 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.47849107]
2025-09-22 10:30:47,402 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 108079.67
2025-09-22 10:30:47,402 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,402 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,406 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,406 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,408 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,408 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,409 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($108079.67 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,410 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($108079.67 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,411 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,411 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,412 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,415 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,427 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,428 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,429 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,432 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,444 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,445 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,445 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,448 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,459 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,460 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,460 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,461 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,461 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,461 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 86447.3378, Frequency: -30.0000, Total: 86417.3378, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,461 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,461 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.152608], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,462 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.15260758]
2025-09-22 10:30:47,462 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.84
2025-09-22 10:30:47,462 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,462 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,464 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,464 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,465 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,466 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,466 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,467 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,468 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,468 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,468 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,471 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,483 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,483 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,484 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,487 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,498 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,499 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,499 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,502 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,513 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,514 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,515 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,515 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,515 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,516 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,516 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,516 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.937961], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,516 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.93796057]
2025-09-22 10:30:47,516 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:47,516 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,517 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,518 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,519 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,520 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,520 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,520 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,521 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,522 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,522 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,523 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,525 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,536 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,536 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,537 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,539 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,550 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,550 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,551 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,554 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,564 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,564 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,565 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,565 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,565 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,568 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:47,568 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,569 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,569 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,569 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:47,569 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:47,569 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,569 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,571 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,572 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,572 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,573 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,573 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,574 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,575 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,575 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,575 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47,575 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47,576 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,576 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,576 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,577 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,580 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,592 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,593 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,593 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,596 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,609 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,610 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,611 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,615 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,627 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,628 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,629 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,629 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,629 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,629 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 108059.1723, Frequency: -26.0000, Total: 108033.1723, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 108079.66
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,630 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,633 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,633 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,634 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,634 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,635 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($113482.63 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,636 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($113482.63 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,636 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,636 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,637 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,640 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,652 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,653 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,653 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,656 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,667 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,668 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,668 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,671 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,682 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,683 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,683 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,683 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,683 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 86447.3378, Frequency: -30.0000, Total: 86417.3378, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.334795], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.33479515]
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.84
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,684 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,686 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,686 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,688 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,688 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,688 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,689 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,689 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,690 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,690 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,693 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,704 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,704 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,705 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,707 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,718 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,719 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,719 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,722 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,732 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,732 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,733 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,733 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,733 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,733 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,734 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,734 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.202368], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,734 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.20236796]
2025-09-22 10:30:47,734 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:47,734 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,734 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,736 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,736 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,737 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,738 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,738 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,739 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,739 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,740 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,740 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,743 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,753 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,753 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,754 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,757 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,766 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,767 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,768 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,770 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,780 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,780 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,781 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,781 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,781 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,784 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:47,784 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,784 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,784 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.42318], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,785 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.4231803]
2025-09-22 10:30:47,785 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:47,785 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,785 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,787 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:47,787 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,787 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,788 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,789 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,789 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,790 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,790 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,790 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47,791 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47,791 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:47,791 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,791 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,792 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,795 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,807 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,808 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,809 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,813 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,826 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,827 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,828 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,831 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,843 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,844 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,845 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,845 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,845 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,845 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 113462.1309, Frequency: -30.0000, Total: 113432.1309, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,845 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,846 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.305872], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,846 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.30587223]
2025-09-22 10:30:47,846 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 113482.63
2025-09-22 10:30:47,846 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,846 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,848 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,848 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,850 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,850 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,850 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($113482.63 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,851 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($113482.63 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,852 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,852 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,853 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,855 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,866 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,867 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,868 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,870 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,882 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,882 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,883 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,885 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,895 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,897 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,897 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,897 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,898 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 2] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:47,898 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 86447.3378, Frequency: -26.0000, Total: 86421.3378, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:47,898 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:47,898 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,899 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:47,899 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 86467.83
2025-09-22 10:30:47,899 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,899 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,901 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,901 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,902 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,903 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,903 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,904 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,904 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,905 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,905 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,908 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,919 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,920 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,920 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,923 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,934 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,934 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,935 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,938 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,948 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,949 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,949 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,949 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,950 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:47,950 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 75641.4206, Frequency: -30.0000, Total: 75611.4206, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:47,950 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:47,950 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.085044], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:47,950 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.08504412]
2025-09-22 10:30:47,951 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.92
2025-09-22 10:30:47,951 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,951 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47,953 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:47,953 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:47 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,954 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,954 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47,954 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:47 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,955 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($75661.92 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:47,956 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47,956 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,956 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,959 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47,969 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47,970 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,970 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,973 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47,983 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47,984 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47,984 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47,987 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47,997 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47,998 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:47 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,998 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:47,998 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:47,998 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,001 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:48,001 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,002 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,002 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,002 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:48,002 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:48,002 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,002 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:48,004 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:48,005 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,005 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,006 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,006 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,007 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,008 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,008 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:48,008 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:48,008 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48,009 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:48,009 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,009 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,009 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,013 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,025 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,026 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,027 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,030 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,042 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,043 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,044 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,047 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,059 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,059 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,060 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,060 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 113462.1309, Frequency: -30.0000, Total: 113432.1309, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,061 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,061 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.014579], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,061 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.01457879]
2025-09-22 10:30:48,061 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 113482.63
2025-09-22 10:30:48,061 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,061 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,063 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,064 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,065 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,065 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,065 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($113482.63 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,066 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($113482.63 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,067 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,067 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,068 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,071 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,083 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,083 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,084 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,087 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,097 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,099 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,099 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,102 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,113 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,114 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,114 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,114 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,114 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.189275], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.18927467]
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,115 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,117 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,117 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,118 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,119 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,119 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,120 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,120 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,121 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,122 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,125 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,135 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,136 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,136 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,139 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,149 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,150 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,150 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,153 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,163 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,163 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,164 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,164 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,164 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 75641.4206, Frequency: -26.0000, Total: 75615.4206, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.831983], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.831983]
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 75661.91
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,165 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,168 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,168 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,169 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,169 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,169 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,170 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,171 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,171 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,171 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,174 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,184 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,185 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,185 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,188 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,198 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,199 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,199 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,202 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,212 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,213 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,214 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,214 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,214 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,217 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:48,217 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,217 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,218 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,218 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-1.]
2025-09-22 10:30:48,218 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:48,218 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,218 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 38, Wins: 19, Losses: 0, Neutral: 19
2025-09-22 10:30:48,220 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] Total trades: 38, Wins: 19, Losses: 0, Neutral: 19
2025-09-22 10:30:48 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:48,220 - adan_trading_bot.performance.metrics - INFO - [Worker 0] [METRICS DEBUG] PnL values: [0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001, 0, 5402.968613000001]
2025-09-22 10:30:48 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:48,221 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2566.92 USDT (0.0%/2.5%), Équité: 102676.71 USDT, Cash: 102676.71 USDT, Solde dispo: 102676.71 USDT
2025-09-22 10:30:48,221 - adan_trading_bot.portfolio.portfolio_manager - INFO - [Worker 0] [RISK] Drawdown actuel: 0.00/2566.92 USDT (0.0%/2.5%), Équité: 102676.71 USDT, Cash: 102676.71 USDT, Solde dispo: 102676.71 USDT
2025-09-22 10:30:48,221 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,221 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,223 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,223 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,223 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,225 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,225 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:48,226 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:48,226 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48,226 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:48,226 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,226 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,227 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,230 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,243 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,244 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,245 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,249 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,260 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,261 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,262 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,265 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,276 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,276 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,277 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,277 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,277 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,278 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 1] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:48,278 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 113462.1309, Frequency: -26.0000, Total: 113436.1309, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:48,278 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:48,279 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.415163], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,279 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.4151631]
2025-09-22 10:30:48,279 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 113482.62
2025-09-22 10:30:48,279 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,279 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,281 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,281 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,283 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,283 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,283 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($118885.59 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,284 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($118885.59 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,285 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,285 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,285 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,288 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,298 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,299 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,300 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,303 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,313 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,314 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,315 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,317 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,330 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,331 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,331 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,331 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,332 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,332 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,332 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,332 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.09479], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,332 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.09479024]
2025-09-22 10:30:48,332 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:48,333 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,333 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,335 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,335 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,336 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,337 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,337 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,339 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,340 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,340 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,341 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,345 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,358 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,359 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,360 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,362 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,374 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,374 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,375 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,378 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,388 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,389 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,389 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,389 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,389 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,390 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 81044.3792, Frequency: -30.0000, Total: 81014.3792, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,390 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,390 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.381194], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,390 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.38119408]
2025-09-22 10:30:48,390 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.88
2025-09-22 10:30:48,391 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,391 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,393 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,393 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,394 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,394 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,394 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,396 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($81064.88 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,396 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,396 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,397 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,399 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,411 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,412 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,412 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,415 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,425 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,425 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,426 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,429 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,439 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,440 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,440 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,440 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,441 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,444 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP] Starting step 0
2025-09-22 10:30:48,444 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 0] Base: 102656.2136, Frequency: -30.0000, Total: 102626.2136, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,444 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 0] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,444 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.516157], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,445 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.51615673]
2025-09-22 10:30:48,445 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 102676.71
2025-09-22 10:30:48,445 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,445 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:48,447 - adan_trading_bot.performance.metrics - INFO - [METRICS] Sharpe: 0.00 | Sortino: 0.00 | Profit Factor: 0.00
Max DD: 0.00% | CAGR: 0.00% | Win Rate: 50.0% | Trades: 38 (19W/0L)
Positions: 5m:0, 1h:0, 4h:0, Total:0
2025-09-22 10:30:48,447 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,447 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,449 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,449 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,449 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,450 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($102676.71 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,450 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:48,450 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:48,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Attempting to load chunk 0 (attempt 1/3)
2025-09-22 10:30:48,451 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [CHUNK_LOADER] Successfully loaded chunk 0 on attempt 1
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,451 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,451 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,454 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,465 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,466 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,467 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,470 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,482 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,483 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,484 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,486 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,498 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,499 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,499 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,500 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,500 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,500 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 1] Base: 118865.0895, Frequency: -30.0000, Total: 118835.0895, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,500 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 1] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,500 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[-0.088033], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,501 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [-0.08803345]
2025-09-22 10:30:48,501 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 118885.59
2025-09-22 10:30:48,501 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,501 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,503 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,503 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,505 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,505 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,506 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($118885.59 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,507 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($118885.59 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,507 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,507 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,508 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,511 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,522 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,523 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,523 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,526 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,537 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,538 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,539 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,542 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,552 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,553 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,553 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,553 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,554 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,554 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 2] Base: 91850.2964, Frequency: -30.0000, Total: 91820.2964, Counts: {'5m': 0, '1h': 0, '4h': 0, 'daily_total': 0}
2025-09-22 10:30:48,554 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 2] 5m: 0/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 0/5-15 ✗
2025-09-22 10:30:48,554 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[0.085035], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,554 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [0.08503525]
2025-09-22 10:30:48,554 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 91870.80
2025-09-22 10:30:48,555 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,555 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,557 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,557 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,558 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,558 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,558 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,559 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($91870.80 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,560 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,560 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,561 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,563 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,573 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,574 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,575 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,577 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,588 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,589 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,589 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,592 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48,602 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 4h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48,603 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 4h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,603 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] build_observation - Final observation shape: (3, 20, 15), size: 900, NaNs: 0
2025-09-22 10:30:48,603 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Raw observation shape: (3, 20, 15)
2025-09-22 10:30:48,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Observation min/max/mean: -260.0647/62888.5742/40388.1406
2025-09-22 10:30:48,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY Worker 3] Trade open BTCUSDT @ 100.00 sur 5m (count: 1, total: 1, forced: False)
2025-09-22 10:30:48,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [REWARD Worker 3] Base: 81044.3792, Frequency: -26.0000, Total: 81018.3792, Counts: {'5m': 1, '1h': 0, '4h': 0, 'daily_total': 1}
2025-09-22 10:30:48,604 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [FREQUENCY VALIDATION Worker 3] 5m: 1/6-15 ✗ | 1h: 0/3-10 ✗ | 4h: 0/1-3 ✗ | Total: 1/5-15 ✗
2025-09-22 10:30:48,605 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - [STEP LOG] step=1, action=[1.], current_chunk=0, step_in_chunk=251
2025-09-22 10:30:48,605 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1 - chunk 1/10] Executing step with action: [1.]
2025-09-22 10:30:48,605 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - [STEP 1] Portfolio value: 81064.87
2025-09-22 10:30:48,605 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,605 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48,607 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Available columns in BTCUSDT 5m data: ['atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open']
2025-09-22 10:30:48,608 - adan_trading_bot.environment.multi_asset_chunked_env - DEBUG - Found feature: 'close' -> 'close'
2025-09-22 10:30:48 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,609 - adan_trading_bot.environment.dynamic_behavior_engine - ERROR - Erreur lors de la mise à jour de l'état du DBE: 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 676, in update_state
    self.state['current_step'] += 1
    ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,609 - adan_trading_bot.environment.multi_asset_chunked_env - WARNING - Failed to update DBE state: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48,609 - adan_trading_bot.environment.multi_asset_chunked_env - ERROR - Error in step(): 'DynamicBehaviorEngine' object has no attribute 'state'
Traceback (most recent call last):
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/multi_asset_chunked_env.py", line 2085, in step
    dbe_modulation = self.dbe.compute_dynamic_modulation()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/morningstar/Documents/trading/bot/src/adan_trading_bot/environment/dynamic_behavior_engine.py", line 833, in compute_dynamic_modulation
    self.log_info(f"[DBE_DECISION] Computing dynamic modulation - Regime: {getattr(self.state, 'regime', 'unknown')}, Volatility: {getattr(self.state, 'volatility', 0.0)}, Step: {getattr(self.state, 'current_step', 0)}")
                                                                                   ^^^^^^^^^^
AttributeError: 'DynamicBehaviorEngine' object has no attribute 'state'
2025-09-22 10:30:48 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,610 - adan_trading_bot.portfolio.portfolio_manager - INFO - [NO RESET] Capital OK ($86467.84 > $11.00) - Continuité préservée (capital + DBE)
2025-09-22 10:30:48,611 - adan_trading_bot.environment.multi_asset_chunked_env - INFO - Repositioning to step 250 in new chunk to allow for indicator warmup (250 steps).
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48,611 - adan_trading_bot.data_processing.state_builder - INFO - Construction de l'observation pour l'actif BTCUSDT - OK
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,612 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,614 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 5m: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48,624 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 5m: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48,625 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 5m: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,626 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,629 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 1h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48,638 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - Before slicing for 1h: processed_data length: 1000
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48,640 - adan_trading_bot.data_processing.state_builder - INFO - [STATE_BUILDER_DEBUG] _process_timeframe_data - After slicing for 1h: window_data length: 20
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48,640 - adan_trading_bot.data_processing.state_builder - INFO - Colonnes manquantes dans les données 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Calcul des indicateurs techniques...
2025-09-22 10:30:48 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
2025-09-22 10:30:48,643 - adan_trading_bot.data_processing.state_builder - WARNING - Colonnes encore manquantes après calcul des indicateurs 4h: {'atr_14', 'bb_middle', 'ema_12', 'low', 'adx_14', 'high', 'rsi_14', 'bb_upper', 'sma_200', 'macd_hist', 'close', 'bb_lower', 'ema_26', 'volume', 'open'}. Remplissage par des zéros.
